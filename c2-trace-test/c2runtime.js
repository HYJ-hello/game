// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,z,da,fa,ga,L,ha,ia,ma,na,oa,M,pa,qa,P,sa,ta,ua,va,R,wa,xa,za,Aa,Ba,T,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,U,Qb,Rb,W,Sb,Tb={},Ub={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(c){return c.__proto__}:function(c){return c.constructor.prototype});
(function(){function c(a,v,e,b){this.set(a,v,e,b)}function m(){this.ab=this.$a=this.cb=this.bb=this.kb=this.jb=this.La=this.Ka=0}function n(a,v,e,b){a<v?e<b?(w=a<e?a:e,t=v>b?v:b):(w=a<b?a:b,t=v>e?v:e):e<b?(w=v<e?v:e,t=a>b?a:b):(w=v<b?v:b,t=a>e?a:e)}function p(){this.items=this.Dc=null;this.Af=0;E&&(this.Dc=new Set);this.Te=[];this.hd=!0}function r(a){C[x++]=a}function q(){this.ga=this.Fa=this.y=this.Oh=0}function h(a){this.he=[];this.ek=this.gk=this.hk=this.fk=0;this.$f(a)}function b(a,v){this.Uh=
a;this.Th=v;this.cells={}}function d(a,v){this.Uh=a;this.Th=v;this.cells={}}function f(a,v,e){var b;return H.length?(b=H.pop(),b.Ai=a,b.x=v,b.y=e,b):new aa(a,v,e)}function a(a,v,b){this.Ai=a;this.x=v;this.y=b;this.Ea=new ba}function e(a,v,b){var e;return y.length?(e=y.pop(),e.Ai=a,e.x=v,e.y=b,e):new ca(a,v,b)}function g(a,v,e){this.Ai=a;this.x=v;this.y=e;this.Ea=[];this.Be=!0;this.Ac=new ba;this.Xe=!1}function k(a,v){return a.rc-v.rc}z=function(a){window.console&&window.console.log&&window.console.log(a)};
da=function(a){window.console&&window.console.error&&window.console.error(a)};fa=function(a){return"undefined"===typeof a};ga=function(a){return"number"===typeof a};L=function(a){return"string"===typeof a};ha=function(a){return 0<a&&0===(a-1&a)};ia=function(a){--a;for(var v=1;32>v;v<<=1)a=a|a>>v;return a+1};ma=function(a){return 0>a?-a:a};na=function(a,v){return a<v?a:v};oa=Math.PI;M=function(a){return 0<=a?a|0:(a|0)-1};pa=function(a){var v=a|0;return v===a?v:v+1};qa=function(a,v,e,b,d,k,f,l){var g,
h,c,w;a<e?(h=a,g=e):(h=e,g=a);d<f?(w=d,c=f):(w=f,c=d);if(g<w||h>c)return!1;v<b?(h=v,g=b):(h=b,g=v);k<l?(w=k,c=l):(w=l,c=k);if(g<w||h>c)return!1;g=d-a+f-e;h=k-v+l-b;a=e-a;v=b-v;d=f-d;k=l-k;l=ma(v*d-k*a);return ma(d*h-k*g)>l?!1:ma(a*h-v*g)<=l};c.prototype.set=function(a,v,e,b){this.left=a;this.top=v;this.right=e;this.bottom=b};c.prototype.cf=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};c.prototype.width=function(){return this.right-this.left};c.prototype.height=
function(){return this.bottom-this.top};c.prototype.offset=function(a,v){this.left+=a;this.top+=v;this.right+=a;this.bottom+=v;return this};c.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};c.prototype.Sp=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};c.prototype.ec=function(a,v){return a>=this.left&&a<=this.right&&v>=
this.top&&v<=this.bottom};c.prototype.hf=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};P=c;m.prototype.rh=function(a){this.Ka=a.left;this.La=a.top;this.jb=a.right;this.kb=a.top;this.bb=a.right;this.cb=a.bottom;this.$a=a.left;this.ab=a.bottom};m.prototype.qm=function(a,v){if(0===v)this.rh(a);else{var e=Math.sin(v),b=Math.cos(v),d=a.left*e,k=a.top*e,f=a.right*e,e=a.bottom*e,l=a.left*b,g=a.top*b,h=a.right*b,b=a.bottom*b;this.Ka=l-k;this.La=g+d;
this.jb=h-k;this.kb=g+f;this.bb=h-e;this.cb=b+f;this.$a=l-e;this.ab=b+d}};m.prototype.offset=function(a,v){this.Ka+=a;this.La+=v;this.jb+=a;this.kb+=v;this.bb+=a;this.cb+=v;this.$a+=a;this.ab+=v;return this};var w=0,t=0;m.prototype.jk=function(a){n(this.Ka,this.jb,this.bb,this.$a);a.left=w;a.right=t;n(this.La,this.kb,this.cb,this.ab);a.top=w;a.bottom=t};m.prototype.ec=function(a,v){var e=this.Ka,b=this.La,d=this.jb-e,k=this.kb-b,f=this.bb-e,l=this.cb-b,g=a-e,h=v-b,c=d*d+k*k,w=d*f+k*l,k=d*g+k*h,t=
f*f+l*l,u=f*g+l*h,m=1/(c*t-w*w),d=(t*k-w*u)*m,c=(c*u-w*k)*m;if(0<=d&&0<c&&1>d+c)return!0;d=this.$a-e;k=this.ab-b;c=d*d+k*k;w=d*f+k*l;k=d*g+k*h;m=1/(c*t-w*w);d=(t*k-w*u)*m;c=(c*u-w*k)*m;return 0<=d&&0<c&&1>d+c};m.prototype.fd=function(a,v){if(v)switch(a){case 0:return this.Ka;case 1:return this.jb;case 2:return this.bb;case 3:return this.$a;case 4:return this.Ka;default:return this.Ka}else switch(a){case 0:return this.La;case 1:return this.kb;case 2:return this.cb;case 3:return this.ab;case 4:return this.La;
default:return this.La}};sa=m;ta=function(a,v){for(var e in v)v.hasOwnProperty(e)&&(a[e]=v[e]);return a};ua=function(a,v){var e,b;v=M(v);if(!(0>v||v>=a.length)){e=v;for(b=a.length-1;e<b;e++)a[e]=a[e+1];va(a,b)}};va=function(a,v){a.length=v};R=function(a){va(a,0)};wa=function(a,v){R(a);var e,b;e=0;for(b=v.length;e<b;++e)a[e]=v[e]};xa=function(a,v){a.push.apply(a,v)};za=function(a,v){var e,b;e=0;for(b=a.length;e<b;++e)if(a[e]===v)return e;return-1};Aa=function(a,v){var e=za(a,v);-1!==e&&ua(a,e)};Ba=
function(a,v,e){return a<v?v:a>e?e:a};T=function(a){return a/(180/oa)};Ea=function(a){return 180/oa*a};Fa=function(a){a%=360;0>a&&(a+=360);return a};Ga=function(a){a%=2*oa;0>a&&(a+=2*oa);return a};Ha=function(a){return Fa(Ea(a))};Ia=function(a){return Ga(T(a))};Ja=function(a,v,e,b){return Math.atan2(b-v,e-a)};Ka=function(a,v){if(a===v)return 0;var e=Math.sin(a),b=Math.cos(a),d=Math.sin(v),k=Math.cos(v),e=e*d+b*k;return 1<=e?0:-1>=e?oa:Math.acos(e)};La=function(a,v,e){var b=Math.sin(a),d=Math.cos(a),
k=Math.sin(v),f=Math.cos(v);return Math.acos(b*k+d*f)>e?0<d*k-b*f?Ga(a+e):Ga(a-e):Ga(v)};Ma=function(a,v){var e=Math.sin(a),b=Math.cos(a),d=Math.sin(v),k=Math.cos(v);return 0>=b*d-e*k};Na=function(a,e,b,d){a=b-a;e=d-e;return Math.sqrt(a*a+e*e)};Oa=function(a,e){return!a!==!e};Pa=function(a){for(var e in a)if(a.hasOwnProperty(e))return!0;return!1};Qa=function(a){for(var e in a)a.hasOwnProperty(e)&&delete a[e]};var O=+new Date;Ra=function(){if("undefined"!==typeof window.performance){var a=window.performance;
if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-O};var l=!1,u=l=!1,ya=!1;"undefined"!==typeof window&&(l=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),l=!l&&/safari/i.test(navigator.userAgent),u=/(iphone|ipod|ipad)/i.test(navigator.userAgent),ya=window.c2ejecta);var E=!l&&!ya&&!u&&"undefined"!==typeof Set&&
"undefined"!==typeof Set.prototype.forEach;p.prototype.contains=function(a){return this.Pc()?!1:E?this.Dc.has(a):this.items&&this.items.hasOwnProperty(a)};p.prototype.add=function(a){if(E)this.Dc.has(a)||(this.Dc.add(a),this.hd=!1);else{var e=a.toString(),b=this.items;b?b.hasOwnProperty(e)||(b[e]=a,this.Af++,this.hd=!1):(this.items={},this.items[e]=a,this.Af=1,this.hd=!1)}};p.prototype.remove=function(a){if(!this.Pc())if(E)this.Dc.has(a)&&(this.Dc["delete"](a),this.hd=!1);else if(this.items){a=a.toString();
var e=this.items;e.hasOwnProperty(a)&&(delete e[a],this.Af--,this.hd=!1)}};p.prototype.clear=function(){this.Pc()||(E?this.Dc.clear():(this.items=null,this.Af=0),R(this.Te),this.hd=!0)};p.prototype.Pc=function(){return 0===this.count()};p.prototype.count=function(){return E?this.Dc.size:this.Af};var C=null,x=0;p.prototype.Xq=function(){if(!this.hd){if(E)R(this.Te),C=this.Te,x=0,this.Dc.forEach(r),C=null,x=0;else{var a=this.Te;R(a);var e,b=0,d=this.items;if(d)for(e in d)d.hasOwnProperty(e)&&(a[b++]=
d[e])}this.hd=!0}};p.prototype.Xb=function(){this.Xq();return this.Te};ba=p;new ba;Ta=function(a,e){E?Ua(a,e.Dc):Va(a,e.Xb())};Ua=function(a,e){var b,d,k,f;d=b=0;for(k=a.length;b<k;++b)f=a[b],e.has(f)||(a[d++]=f);va(a,d)};Va=function(a,e){var b,d,k,f;d=b=0;for(k=a.length;b<k;++b)f=a[b],-1===za(e,f)&&(a[d++]=f);va(a,d)};q.prototype.add=function(a){this.y=a-this.Oh;this.Fa=this.ga+this.y;this.Oh=this.Fa-this.ga-this.y;this.ga=this.Fa};q.prototype.reset=function(){this.ga=this.Fa=this.y=this.Oh=0};Wa=
q;Xa=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};h.prototype.$f=function(a){this.am=a;this.Wf=a.length/2;this.he.length=a.length;this.Ph=this.Qh=-1;this.mk=0};h.prototype.el=function(){return!this.am.length};h.prototype.za=function(){for(var a=this.he,e=a[0],b=e,d=a[1],k=d,f,l,g=1,h=this.Wf;g<h;++g)l=2*g,f=a[l],l=a[l+1],f<e&&(e=f),f>b&&(b=f),l<d&&(d=l),l>k&&(k=l);this.fk=e;this.gk=b;this.hk=d;this.ek=k};h.prototype.rh=function(a,e,b){this.he.length=8;this.Wf=4;var d=this.he;d[0]=
a.left-e;d[1]=a.top-b;d[2]=a.right-e;d[3]=a.top-b;d[4]=a.right-e;d[5]=a.bottom-b;d[6]=a.left-e;d[7]=a.bottom-b;this.Qh=a.right-a.left;this.Ph=a.bottom-a.top;this.za()};h.prototype.nk=function(a,e,b){if(this.Qh!==a||this.Ph!==e||this.mk!==b){this.Qh=a;this.Ph=e;this.mk=b;var d,k,f,l,g,h=0,c=1,w=this.am,t=this.he;0!==b&&(h=Math.sin(b),c=Math.cos(b));b=0;for(f=this.Wf;b<f;b++)d=2*b,k=d+1,l=w[d]*a,g=w[k]*e,t[d]=l*c-g*h,t[k]=g*c+l*h;this.za()}};h.prototype.ec=function(a,e){var b=this.he;if(a===b[0]&&e===
b[1])return!0;var d,k,f,l=this.Wf,g=this.fk-110,h=this.hk-101,c=this.gk+131,w=this.ek+120,t,u,m=0,q=0;for(d=0;d<l;d++)k=2*d,f=(d+1)%l*2,t=b[k],k=b[k+1],u=b[f],f=b[f+1],qa(g,h,a,e,t,k,u,f)&&m++,qa(c,w,a,e,t,k,u,f)&&q++;return 1===m%2||1===q%2};Ya=h;b.prototype.pd=function(a,e,b){var d;d=this.cells[a];return d?(d=d[e])?d:b?(d=f(this,a,e),this.cells[a][e]=d):null:b?(d=f(this,a,e),this.cells[a]={},this.cells[a][e]=d):null};b.prototype.Xa=function(a){return M(a/this.Uh)};b.prototype.Ya=function(a){return M(a/
this.Th)};b.prototype.update=function(a,e,b){var d,k,f,l,g;if(e)for(d=e.left,k=e.right;d<=k;++d)for(f=e.top,l=e.bottom;f<=l;++f)if(!b||!b.ec(d,f))if(g=this.pd(d,f,!1))g.remove(a),g.Pc()&&(g.Ea.clear(),1E3>H.length&&H.push(g),this.cells[d][f]=null);if(b)for(d=b.left,k=b.right;d<=k;++d)for(f=b.top,l=b.bottom;f<=l;++f)e&&e.ec(d,f)||this.pd(d,f,!0).Fi(a)};b.prototype.lh=function(a,e){var b,d,k,f,l,g;b=this.Xa(a.left);k=this.Ya(a.top);d=this.Xa(a.right);for(l=this.Ya(a.bottom);b<=d;++b)for(f=k;f<=l;++f)(g=
this.pd(b,f,!1))&&g.dump(e)};Za=b;d.prototype.pd=function(a,b,d){var k;k=this.cells[a];return k?(k=k[b])?k:d?(k=e(this,a,b),this.cells[a][b]=k):null:d?(k=e(this,a,b),this.cells[a]={},this.cells[a][b]=k):null};d.prototype.Xa=function(a){return M(a/this.Uh)};d.prototype.Ya=function(a){return M(a/this.Th)};d.prototype.update=function(a,e,b){var d,k,f,l,g;if(e)for(d=e.left,k=e.right;d<=k;++d)for(f=e.top,l=e.bottom;f<=l;++f)if(!b||!b.ec(d,f))if(g=this.pd(d,f,!1))g.remove(a),g.Pc()&&(g.reset(),1E3>y.length&&
y.push(g),this.cells[d][f]=null);if(b)for(d=b.left,k=b.right;d<=k;++d)for(f=b.top,l=b.bottom;f<=l;++f)e&&e.ec(d,f)||this.pd(d,f,!0).Fi(a)};d.prototype.lh=function(a,e,b,d,k){var f,l;a=this.Xa(a);e=this.Ya(e);b=this.Xa(b);for(f=this.Ya(d);a<=b;++a)for(d=e;d<=f;++d)(l=this.pd(a,d,!1))&&l.dump(k)};d.prototype.bq=function(a){var e,b,d,k,f;e=a.left;d=a.top;b=a.right;for(k=a.bottom;e<=b;++e)for(a=d;a<=k;++a)if(f=this.pd(e,a,!1))f.Be=!1};$a=d;var H=[];a.prototype.Pc=function(){return this.Ea.Pc()};a.prototype.Fi=
function(a){this.Ea.add(a)};a.prototype.remove=function(a){this.Ea.remove(a)};a.prototype.dump=function(a){xa(a,this.Ea.Xb())};aa=a;var y=[];g.prototype.Pc=function(){if(!this.Ea.length)return!0;if(this.Ea.length>this.Ac.count())return!1;this.li();return!0};g.prototype.Fi=function(a){this.Ac.contains(a)?(this.Ac.remove(a),this.Ac.Pc()&&(this.Xe=!1)):this.Ea.length?(this.Ea[this.Ea.length-1].Lb()>a.Lb()&&(this.Be=!1),this.Ea.push(a)):(this.Ea.push(a),this.Be=!0)};g.prototype.remove=function(a){this.Ac.add(a);
this.Xe=!0;30<=this.Ac.count()&&this.li()};g.prototype.li=function(){this.Xe&&(this.Ac.count()===this.Ea.length?this.reset():(Ta(this.Ea,this.Ac),this.Ac.clear(),this.Xe=!1))};g.prototype.xo=function(){this.Be||(this.Ea.sort(k),this.Be=!0)};g.prototype.reset=function(){R(this.Ea);this.Be=!0;this.Ac.clear();this.Xe=!1};g.prototype.dump=function(a){this.li();this.xo();this.Ea.length&&a.push(this.Ea)};ca=g;var A="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
ab=function(a){return 0>=a||11<=a?"source-over":A[a-1]};bb=function(a,e,b){if(b)switch(a.Sa=b.ONE,a.Pa=b.ONE_MINUS_SRC_ALPHA,e){case 1:a.Sa=b.ONE;a.Pa=b.ONE;break;case 3:a.Sa=b.ONE;a.Pa=b.ZERO;break;case 4:a.Sa=b.ONE_MINUS_DST_ALPHA;a.Pa=b.ONE;break;case 5:a.Sa=b.DST_ALPHA;a.Pa=b.ZERO;break;case 6:a.Sa=b.ZERO;a.Pa=b.SRC_ALPHA;break;case 7:a.Sa=b.ONE_MINUS_DST_ALPHA;a.Pa=b.ZERO;break;case 8:a.Sa=b.ZERO;a.Pa=b.ONE_MINUS_SRC_ALPHA;break;case 9:a.Sa=b.DST_ALPHA;a.Pa=b.ONE_MINUS_SRC_ALPHA;break;case 10:a.Sa=
b.ONE_MINUS_DST_ALPHA,a.Pa=b.SRC_ALPHA}};cb=function(a){return Math.round(1E6*a)/1E6};db=function(a,e){return"string"!==typeof a||"string"!==typeof e||a.length!==e.length?!1:a===e?!0:a.toLowerCase()===e.toLowerCase()};eb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||db(a.tagName,"canvas")?!0:!1}})();var Vb="undefined"!==typeof Float32Array?Float32Array:Array;function Wb(c){var m=new Vb(3);c&&(m[0]=c[0],m[1]=c[1],m[2]=c[2]);return m}
function X(c){var m=new Vb(16);c&&(m[0]=c[0],m[1]=c[1],m[2]=c[2],m[3]=c[3],m[4]=c[4],m[5]=c[5],m[6]=c[6],m[7]=c[7],m[8]=c[8],m[9]=c[9],m[10]=c[10],m[11]=c[11],m[12]=c[12],m[13]=c[13],m[14]=c[14],m[15]=c[15]);return m}function Xb(c,m){m[0]=c[0];m[1]=c[1];m[2]=c[2];m[3]=c[3];m[4]=c[4];m[5]=c[5];m[6]=c[6];m[7]=c[7];m[8]=c[8];m[9]=c[9];m[10]=c[10];m[11]=c[11];m[12]=c[12];m[13]=c[13];m[14]=c[14];m[15]=c[15]}
function Yb(c,m){var n=m[0],p=m[1];m=m[2];c[0]*=n;c[1]*=n;c[2]*=n;c[3]*=n;c[4]*=p;c[5]*=p;c[6]*=p;c[7]*=p;c[8]*=m;c[9]*=m;c[10]*=m;c[11]*=m}
function Zb(c,m,n,p){p||(p=X());var r,q,h,b,d,f,a,e,g=c[0],k=c[1];c=c[2];q=n[0];h=n[1];r=n[2];n=m[1];f=m[2];g===m[0]&&k===n&&c===f?(c=p,c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1):(n=g-m[0],f=k-m[1],a=c-m[2],e=1/Math.sqrt(n*n+f*f+a*a),n*=e,f*=e,a*=e,m=h*a-r*f,r=r*n-q*a,q=q*f-h*n,(e=Math.sqrt(m*m+r*r+q*q))?(e=1/e,m*=e,r*=e,q*=e):q=r=m=0,h=f*q-a*r,b=a*m-n*q,d=n*r-f*m,(e=Math.sqrt(h*h+b*b+d*d))?(e=1/e,h*=e,b*=e,d*=e):d=b=h=0,
p[0]=m,p[1]=h,p[2]=n,p[3]=0,p[4]=r,p[5]=b,p[6]=f,p[7]=0,p[8]=q,p[9]=d,p[10]=a,p[11]=0,p[12]=-(m*g+r*k+q*c),p[13]=-(h*g+b*k+d*c),p[14]=-(n*g+f*k+a*c),p[15]=1)}
(function(){function c(b,d,f){this.sd=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.P=!!f;this.Jg=this.vf=!1;this.bi=0;this.Fh=1;this.Sj=1E3;this.dr=(this.Sj-this.Fh)/32768;this.Rh=Wb([0,0,100]);this.pl=Wb([0,0,0]);this.Mm=Wb([0,1,0]);this.jg=Wb([1,1,1]);this.yk=!0;this.dh=X();this.Fb=X();this.Si=X();this.ai=X();this.k=b;this.Uk()}function m(b,d,f){this.k=b;this.ag=d;this.name=f;this.Qb=b.getAttribLocation(d,"aPos");this.zd=b.getAttribLocation(d,
"aTex");this.nl=b.getUniformLocation(d,"matP");this.Zg=b.getUniformLocation(d,"matMV");this.Ee=b.getUniformLocation(d,"opacity");this.Xi=b.getUniformLocation(d,"colorFill");this.ol=b.getUniformLocation(d,"samplerFront");this.If=b.getUniformLocation(d,"samplerBack");this.be=b.getUniformLocation(d,"destStart");this.ae=b.getUniformLocation(d,"destEnd");this.Kf=b.getUniformLocation(d,"seconds");this.Zi=b.getUniformLocation(d,"pixelWidth");this.Yi=b.getUniformLocation(d,"pixelHeight");this.Hf=b.getUniformLocation(d,
"layerScale");this.Gf=b.getUniformLocation(d,"layerAngle");this.Lf=b.getUniformLocation(d,"viewOrigin");this.Jf=b.getUniformLocation(d,"scrollPos");this.Np=!!(this.Zi||this.Yi||this.Kf||this.If||this.be||this.ae||this.Hf||this.Gf||this.Lf||this.Jf);this.yl=this.zl=-999;this.bh=1;this.tl=this.sl=0;this.wl=this.rl=this.ql=1;this.Cl=this.Bl=this.Al=this.El=this.Dl=this.ul=0;this.Ri=[];this.xl=X();this.Ee&&b.uniform1f(this.Ee,1);this.Xi&&b.uniform4f(this.Xi,1,1,1,1);this.ol&&b.uniform1i(this.ol,0);this.If&&
b.uniform1i(this.If,1);this.be&&b.uniform2f(this.be,0,0);this.ae&&b.uniform2f(this.ae,1,1);this.Hf&&b.uniform1f(this.Hf,1);this.Gf&&b.uniform1f(this.Gf,0);this.Lf&&b.uniform2f(this.Lf,0,0);this.Jf&&b.uniform2f(this.Jf,0,0);this.Kf&&b.uniform1f(this.Kf,0);this.Td=!1}function n(b,d){return b[0]===d[0]&&b[1]===d[1]&&b[2]===d[2]&&b[3]===d[3]&&b[4]===d[4]&&b[5]===d[5]&&b[6]===d[6]&&b[7]===d[7]&&b[8]===d[8]&&b[9]===d[9]&&b[10]===d[10]&&b[11]===d[11]&&b[12]===d[12]&&b[13]===d[13]&&b[14]===d[14]&&b[15]===
d[15]}function p(b,d){this.type=b;this.g=d;this.k=d.k;this.xc=this.Ua=this.Sl=0;this.C=this.Wb=null;this.rm=[]}var r=X();c.prototype.Uk=function(){var b=this.k,d;this.il=1;this.Yd=this.vd=null;this.sg=1;b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);b.enable(b.BLEND);b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA);b.disable(b.CULL_FACE);b.disable(b.STENCIL_TEST);b.disable(b.DITHER);this.P?(b.enable(b.DEPTH_TEST),b.depthFunc(b.LEQUAL)):b.disable(b.DEPTH_TEST);this.jl=b.ONE;this.hl=b.ONE_MINUS_SRC_ALPHA;
this.Dh=new Float32Array(8E3*(this.P?3:2));this.wh=new Float32Array(16E3);this.Xl=new Float32Array(32E3);this.ij=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,this.ij);b.bufferData(b.ARRAY_BUFFER,this.Xl.byteLength,b.DYNAMIC_DRAW);this.ig=Array(4);this.eg=Array(4);for(d=0;4>d;d++)this.ig[d]=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,this.ig[d]),b.bufferData(b.ARRAY_BUFFER,this.Dh.byteLength,b.DYNAMIC_DRAW),this.eg[d]=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,this.eg[d]),b.bufferData(b.ARRAY_BUFFER,
this.wh.byteLength,b.DYNAMIC_DRAW);this.Jc=0;this.Qp=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.Qp);for(var f=new Uint16Array(12E3),a=d=0;12E3>d;)f[d++]=a,f[d++]=a+1,f[d++]=a+2,f[d++]=a,f[d++]=a+2,f[d++]=a+3,a+=4;b.bufferData(b.ELEMENT_ARRAY_BUFFER,f,b.STATIC_DRAW);this.jj=this.Re=this.$c=0;this.fa=[];d=this.P?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";f=this.df({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},d,"<default>");this.fa.push(f);f=this.df({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.fa.push(f);f=this.df({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},d,"<earlyz>");this.fa.push(f);f=this.df({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
d,"<fill>");this.fa.push(f);for(var e in $b)$b.hasOwnProperty(e)&&this.fa.push(this.df($b[e],d,e));b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,null);this.gd=[];this.Hc=0;this.Qa=!1;this.sk=this.Bf=-1;this.te=null;this.ki=b.createFramebuffer();this.ug=this.mh=null;this.ck=!1;this.P&&(this.ug=b.createRenderbuffer());this.Ed=Wb([0,0,0]);this.Fl=b.getParameter(b.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Fl&&(this.Fl=2048);this.ib(0)};m.prototype.Oj=function(b){n(this.xl,b)||(Xb(b,this.xl),this.k.uniformMatrix4fv(this.Zg,
!1,b))};c.prototype.df=function(b,d,f){var a=this.k,e=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(e,b.src);a.compileShader(e);if(!a.getShaderParameter(e,a.COMPILE_STATUS))return a.deleteShader(e),null;var g=a.createShader(a.VERTEX_SHADER);a.shaderSource(g,d);a.compileShader(g);if(!a.getShaderParameter(g,a.COMPILE_STATUS))return a.deleteShader(e),a.deleteShader(g),null;d=a.createProgram();a.attachShader(d,e);a.attachShader(d,g);a.linkProgram(d);if(!a.getProgramParameter(d,a.LINK_STATUS))return a.deleteShader(e),
a.deleteShader(g),a.deleteProgram(d),null;a.useProgram(d);a.deleteShader(e);a.deleteShader(g);f=new m(a,d,f);f.ii=b.ii||0;f.ji=b.ji||0;f.rk=!!b.rk;f.mc=!!b.mc;f.ak=!!b.ak;f.D=b.D||[];b=0;for(e=f.D.length;b<e;b++)f.D[b][1]=a.getUniformLocation(d,f.D[b][0]),f.Ri.push(0),a.uniform1f(f.D[b][1],0);return f};c.prototype.xi=function(b){var d,f;d=0;for(f=this.fa.length;d<f;d++)if(this.fa[d].name===b)return d;return-1};c.prototype.$l=function(b,d,f){var a=this.Fb,e=this.dh,g=[0,0,0,0,0,0,0,0];g[0]=a[0]*b+
a[4]*d+a[12];g[1]=a[1]*b+a[5]*d+a[13];g[2]=a[2]*b+a[6]*d+a[14];g[3]=a[3]*b+a[7]*d+a[15];g[4]=e[0]*g[0]+e[4]*g[1]+e[8]*g[2]+e[12]*g[3];g[5]=e[1]*g[0]+e[5]*g[1]+e[9]*g[2]+e[13]*g[3];g[6]=e[2]*g[0]+e[6]*g[1]+e[10]*g[2]+e[14]*g[3];g[7]=-g[2];0!==g[7]&&(g[7]=1/g[7],g[4]*=g[7],g[5]*=g[7],g[6]*=g[7],f[0]=(.5*g[4]+.5)*this.width,f[1]=(.5*g[5]+.5)*this.height)};c.prototype.je=function(b,d,f){if(this.width!==b||this.height!==d||f){this.nd();f=this.k;this.width=b;this.height=d;f.viewport(0,0,b,d);Zb(this.Rh,
this.pl,this.Mm,this.Fb);if(this.P){var a=-b/2;b=b/2;var e=d/2;d=-d/2;var g=this.Fh,k=this.Sj,h=this.dh;h||(h=X());var c=b-a,m=d-e,l=k-g;h[0]=2/c;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=2/m;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=-2/l;h[11]=0;h[12]=-(a+b)/c;h[13]=-(d+e)/m;h[14]=-(k+g)/l;h[15]=1;this.jg[0]=1;this.jg[1]=1}else d=b/d,a=this.Fh,b=this.Sj,h=this.dh,k=a*Math.tan(45*Math.PI/360),d*=k,e=-d,g=-k,h||(h=X()),c=d-e,m=k-g,l=b-a,h[0]=2*a/c,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=2*a/m,h[6]=0,h[7]=0,h[8]=(d+e)/c,h[9]=
(k+g)/m,h[10]=-(b+a)/l,h[11]=-1,h[12]=0,h[13]=0,h[14]=-(b*a*2)/l,h[15]=0,a=[0,0],b=[0,0],this.$l(0,0,a),this.$l(1,1,b),this.jg[0]=1/(b[0]-a[0]),this.jg[1]=-1/(b[1]-a[1]);a=0;for(b=this.fa.length;a<b;a++)e=this.fa[a],e.Td=!1,e.nl&&(f.useProgram(e.ag),f.uniformMatrix4fv(e.nl,!1,this.dh));f.useProgram(this.fa[this.Bf].ag);f.bindTexture(f.TEXTURE_2D,null);f.activeTexture(f.TEXTURE1);f.bindTexture(f.TEXTURE_2D,null);f.activeTexture(f.TEXTURE0);this.Yd=this.vd=null;this.ug&&(f.bindFramebuffer(f.FRAMEBUFFER,
this.ki),f.bindRenderbuffer(f.RENDERBUFFER,this.ug),f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_COMPONENT16,this.width,this.height),this.ck||(f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.ug),this.ck=!0),f.bindRenderbuffer(f.RENDERBUFFER,null),f.bindFramebuffer(f.FRAMEBUFFER,null),this.mh=null)}};c.prototype.Tb=function(){Zb(this.Rh,this.pl,this.Mm,this.Fb);Yb(this.Fb,this.jg)};c.prototype.translate=function(b,d){if(0!==b||0!==d){this.Ed[0]=b;this.Ed[1]=d;this.Ed[2]=
0;var f=this.Fb,a=this.Ed,e=a[0],g=a[1],a=a[2];f[12]=f[0]*e+f[4]*g+f[8]*a+f[12];f[13]=f[1]*e+f[5]*g+f[9]*a+f[13];f[14]=f[2]*e+f[6]*g+f[10]*a+f[14];f[15]=f[3]*e+f[7]*g+f[11]*a+f[15]}};c.prototype.scale=function(b,d){if(1!==b||1!==d)this.Ed[0]=b,this.Ed[1]=d,this.Ed[2]=1,Yb(this.Fb,this.Ed)};c.prototype.oh=function(b){if(0!==b){var d=this.Fb,f,a=Math.sin(b);b=Math.cos(b);var e=d[0],g=d[1],k=d[2],h=d[3],c=d[4],m=d[5],l=d[6],u=d[7];f?d!==f&&(f[8]=d[8],f[9]=d[9],f[10]=d[10],f[11]=d[11],f[12]=d[12],f[13]=
d[13],f[14]=d[14],f[15]=d[15]):f=d;f[0]=e*b+c*a;f[1]=g*b+m*a;f[2]=k*b+l*a;f[3]=h*b+u*a;f[4]=e*-a+c*b;f[5]=g*-a+m*b;f[6]=k*-a+l*b;f[7]=h*-a+u*b}};c.prototype.Gb=function(){if(!n(this.Si,this.Fb)){var b=this.sb();b.type=5;b.C?Xb(this.Fb,b.C):b.C=X(this.Fb);Xb(this.Fb,this.Si);this.Qa=!1}};c.prototype.ph=function(b){this.P&&(32760<b&&(b=32760),this.bi=this.Rh[2]-this.Fh-b*this.dr)};p.prototype.ho=function(){var b=this.k,d=this.g;0!==this.Ua?(b.depthMask(!0),b.colorMask(!1,!1,!1,!1),b.disable(b.BLEND),
b.bindFramebuffer(b.FRAMEBUFFER,d.ki),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.clear(b.DEPTH_BUFFER_BIT),b.bindFramebuffer(b.FRAMEBUFFER,null),d.Jg=!0):(b.depthMask(!1),b.colorMask(!0,!0,!0,!0),b.enable(b.BLEND),d.Jg=!1)};p.prototype.lo=function(){this.k.bindTexture(this.k.TEXTURE_2D,this.Wb)};p.prototype.mo=function(){var b=this.k;b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,this.Wb);b.activeTexture(b.TEXTURE0)};p.prototype.io=function(){var b=this.Sl,
d=this.g;d.sg=b;d=d.te;d.Ee&&d.bh!==b&&(d.bh=b,this.k.uniform1f(d.Ee,b))};p.prototype.ao=function(){this.k.drawElements(this.k.TRIANGLES,this.xc,this.k.UNSIGNED_SHORT,this.Ua)};p.prototype.co=function(){this.k.blendFunc(this.Ua,this.xc)};p.prototype.no=function(){var b,d,f,a=this.g.fa,e=this.g.sk;b=0;for(d=a.length;b<d;b++)f=a[b],b===e&&f.Zg?(f.Oj(this.C),f.Td=!0):f.Td=!1;Xb(this.C,this.g.ai)};p.prototype.bo=function(){var b=this.k,d=this.g;this.Wb?(d.Yd===this.Wb&&(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,
null),d.Yd=null,b.activeTexture(b.TEXTURE0)),b.bindFramebuffer(b.FRAMEBUFFER,d.ki),d.Jg||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.Wb,0)):(d.P||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.bindFramebuffer(b.FRAMEBUFFER,null))};p.prototype.Zn=function(){var b=this.k,d=this.Ua;0===d?(b.clearColor(this.C[0],this.C[1],this.C[2],this.C[3]),b.clear(b.COLOR_BUFFER_BIT)):1===d?(b.enable(b.SCISSOR_TEST),b.scissor(this.C[0],this.C[1],this.C[2],
this.C[3]),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.disable(b.SCISSOR_TEST)):b.clear(b.DEPTH_BUFFER_BIT)};p.prototype.fo=function(){var b=this.k;0!==this.Ua?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST)};p.prototype.$n=function(){var b=this.k,d=this.g;d.P&&b.disable(b.DEPTH_TEST);var f=d.fa[1];b.useProgram(f.ag);!f.Td&&f.Zg&&(f.Oj(d.ai),f.Td=!0);b.enableVertexAttribArray(f.Qb);b.bindBuffer(b.ARRAY_BUFFER,d.ij);b.vertexAttribPointer(f.Qb,4,b.FLOAT,!1,0,0);b.drawArrays(b.POINTS,this.Ua/
4,this.xc);f=d.te;b.useProgram(f.ag);0<=f.Qb&&(b.enableVertexAttribArray(f.Qb),b.bindBuffer(b.ARRAY_BUFFER,d.ig[d.Jc]),b.vertexAttribPointer(f.Qb,d.P?3:2,b.FLOAT,!1,0,0));0<=f.zd&&(b.enableVertexAttribArray(f.zd),b.bindBuffer(b.ARRAY_BUFFER,d.eg[d.Jc]),b.vertexAttribPointer(f.zd,2,b.FLOAT,!1,0,0));d.P&&b.enable(b.DEPTH_TEST)};p.prototype.jo=function(){var b=this.k,d=this.g,f=d.fa[this.Ua];d.sk=this.Ua;d.te=f;b.useProgram(f.ag);!f.Td&&f.Zg&&(f.Oj(d.ai),f.Td=!0);f.Ee&&f.bh!==d.sg&&(f.bh=d.sg,b.uniform1f(f.Ee,
d.sg));0<=f.Qb&&(b.enableVertexAttribArray(f.Qb),b.bindBuffer(b.ARRAY_BUFFER,d.ig[d.Jc]),b.vertexAttribPointer(f.Qb,d.P?3:2,b.FLOAT,!1,0,0));0<=f.zd&&(b.enableVertexAttribArray(f.zd),b.bindBuffer(b.ARRAY_BUFFER,d.eg[d.Jc]),b.vertexAttribPointer(f.zd,2,b.FLOAT,!1,0,0))};p.prototype.eo=function(){var b=this.C;this.k.uniform4f(this.g.te.Xi,b[0],b[1],b[2],b[3])};p.prototype.ko=function(){var b,d,f=this.g.te,a=this.k;b=this.C;f.If&&this.g.Yd!==this.Wb&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,
this.Wb),this.g.Yd=this.Wb,a.activeTexture(a.TEXTURE0));var e=b[0];f.Zi&&e!==f.zl&&(f.zl=e,a.uniform1f(f.Zi,e));e=b[1];f.Yi&&e!==f.yl&&(f.yl=e,a.uniform1f(f.Yi,e));e=b[2];d=b[3];!f.be||e===f.sl&&d===f.tl||(f.sl=e,f.tl=d,a.uniform2f(f.be,e,d));e=b[4];d=b[5];!f.ae||e===f.ql&&d===f.rl||(f.ql=e,f.rl=d,a.uniform2f(f.ae,e,d));e=b[6];f.Hf&&e!==f.wl&&(f.wl=e,a.uniform1f(f.Hf,e));e=b[7];f.Gf&&e!==f.ul&&(f.ul=e,a.uniform1f(f.Gf,e));e=b[8];d=b[9];!f.Lf||e===f.Dl&&d===f.El||(f.Dl=e,f.El=d,a.uniform2f(f.Lf,e,
d));e=b[10];d=b[11];!f.Jf||e===f.Al&&d===f.Bl||(f.Al=e,f.Bl=d,a.uniform2f(f.Jf,e,d));e=b[12];f.Kf&&e!==f.Cl&&(f.Cl=e,a.uniform1f(f.Kf,e));if(f.D.length)for(b=0,d=f.D.length;b<d;b++)e=this.rm[b],e!==f.Ri[b]&&(f.Ri[b]=e,a.uniform1f(f.D[b][1],e))};c.prototype.sb=function(){this.Hc===this.gd.length&&this.gd.push(new p(0,this));return this.gd[this.Hc++]};c.prototype.nd=function(){if(0!==this.Hc&&!this.k.isContextLost()){var b=this.k;0<this.jj&&(b.bindBuffer(b.ARRAY_BUFFER,this.ij),b.bufferSubData(b.ARRAY_BUFFER,
0,this.Xl.subarray(0,this.jj)),d&&0<=d.Qb&&"<point>"===d.name&&b.vertexAttribPointer(d.Qb,4,b.FLOAT,!1,0,0));if(0<this.$c){var d=this.te;b.bindBuffer(b.ARRAY_BUFFER,this.ig[this.Jc]);b.bufferSubData(b.ARRAY_BUFFER,0,this.Dh.subarray(0,this.$c));d&&0<=d.Qb&&"<point>"!==d.name&&b.vertexAttribPointer(d.Qb,this.P?3:2,b.FLOAT,!1,0,0);b.bindBuffer(b.ARRAY_BUFFER,this.eg[this.Jc]);b.bufferSubData(b.ARRAY_BUFFER,0,this.wh.subarray(0,this.Re));d&&0<=d.zd&&"<point>"!==d.name&&b.vertexAttribPointer(d.zd,2,b.FLOAT,
!1,0,0)}for(var f,b=0,d=this.Hc;b<d;b++)switch(f=this.gd[b],f.type){case 1:f.ao();break;case 2:f.lo();break;case 3:f.io();break;case 4:f.co();break;case 5:f.no();break;case 6:f.bo();break;case 7:f.Zn();break;case 8:f.$n();break;case 9:f.jo();break;case 10:f.ko();break;case 11:f.mo();break;case 12:f.eo();break;case 13:f.fo();break;case 14:f.ho()}this.jj=this.Re=this.$c=this.Hc=0;this.Jg=this.Qa=!1;this.Jc++;4<=this.Jc&&(this.Jc=0)}};c.prototype.ie=function(b){if(b!==this.il&&!this.vf){var d=this.sb();
d.type=3;this.il=d.Sl=b;this.Qa=!1}};c.prototype.ub=function(b){if(b!==this.vd){var d=this.sb();d.type=2;this.vd=d.Wb=b;this.Qa=!1}};c.prototype.Cd=function(b,d){if((b!==this.jl||d!==this.hl)&&!this.vf){var f=this.sb();f.type=4;f.Ua=b;f.xc=d;this.jl=b;this.hl=d;this.Qa=!1}};c.prototype.km=function(){this.Cd(this.k.ONE,this.k.ONE_MINUS_SRC_ALPHA)};c.prototype.Yf=function(b,d,f,a,e,g,k,h){15992<=this.$c&&this.nd();var c=this.$c,m=this.Re,l=this.Dh,u=this.wh,q=this.bi;if(this.Qa)this.gd[this.Hc-1].xc+=
6;else{var n=this.sb();n.type=1;n.Ua=this.P?c:c/2*3;n.xc=6;this.Qa=!0}this.P?(l[c++]=b,l[c++]=d,l[c++]=q,l[c++]=f,l[c++]=a,l[c++]=q,l[c++]=e,l[c++]=g,l[c++]=q,l[c++]=k,l[c++]=h,l[c++]=q):(l[c++]=b,l[c++]=d,l[c++]=f,l[c++]=a,l[c++]=e,l[c++]=g,l[c++]=k,l[c++]=h);u[m++]=0;u[m++]=0;u[m++]=1;u[m++]=0;u[m++]=1;u[m++]=1;u[m++]=0;u[m++]=1;this.$c=c;this.Re=m};c.prototype.Bc=function(b,d,f,a,e,g,k,h,c){15992<=this.$c&&this.nd();var m=this.$c,l=this.Re,u=this.Dh,q=this.wh,n=this.bi;if(this.Qa)this.gd[this.Hc-
1].xc+=6;else{var p=this.sb();p.type=1;p.Ua=this.P?m:m/2*3;p.xc=6;this.Qa=!0}var p=c.left,x=c.top,r=c.right;c=c.bottom;this.P?(u[m++]=b,u[m++]=d,u[m++]=n,u[m++]=f,u[m++]=a,u[m++]=n,u[m++]=e,u[m++]=g,u[m++]=n,u[m++]=k,u[m++]=h,u[m++]=n):(u[m++]=b,u[m++]=d,u[m++]=f,u[m++]=a,u[m++]=e,u[m++]=g,u[m++]=k,u[m++]=h);q[l++]=p;q[l++]=x;q[l++]=r;q[l++]=x;q[l++]=r;q[l++]=c;q[l++]=p;q[l++]=c;this.$c=m;this.Re=l};c.prototype.ib=function(b){if(this.Bf!==b){if(!this.fa[b]){if(0===this.Bf)return;b=0}var d=this.sb();
d.type=9;this.Bf=d.Ua=b;this.Qa=!1}};c.prototype.Uf=function(b){b=this.fa[b];return!(!b.be&&!b.ae)};c.prototype.mj=function(b){b=this.fa[b];return!!(b.be||b.ae||b.rk)};c.prototype.lj=function(b){return this.fa[b].mc};c.prototype.Bq=function(b){b=this.fa[b];return 0!==b.ii||0!==b.ji};c.prototype.tp=function(b){return this.fa[b].ii};c.prototype.up=function(b){return this.fa[b].ji};c.prototype.vp=function(b,d){return this.fa[b].D[d][2]};c.prototype.kh=function(b){return this.fa[b].ak};c.prototype.Oe=
function(b,d,f,a,e,g,k,h,c,m,l,u,q,n,p){var x=this.fa[this.Bf],r,y;if(x.Np||p.length){r=this.sb();r.type=10;r.C?Xb(this.Fb,r.C):r.C=X();y=r.C;y[0]=d;y[1]=f;y[2]=a;y[3]=e;y[4]=g;y[5]=k;y[6]=h;y[7]=c;y[8]=m;y[9]=l;y[10]=u;y[11]=q;y[12]=n;x.If?r.Wb=b:r.Wb=null;if(p.length)for(f=r.rm,f.length=p.length,b=0,d=p.length;b<d;b++)f[b]=p[b];this.Qa=!1}};c.prototype.clear=function(b,d,f,a){var e=this.sb();e.type=7;e.Ua=0;e.C||(e.C=X());e.C[0]=b;e.C[1]=d;e.C[2]=f;e.C[3]=a;this.Qa=!1};c.prototype.clearRect=function(b,
d,f,a){if(!(0>f||0>a)){var e=this.sb();e.type=7;e.Ua=1;e.C||(e.C=X());e.C[0]=b;e.C[1]=d;e.C[2]=f;e.C[3]=a;this.Qa=!1}};c.prototype.nm=function(b){if(this.P&&(b=!!b,this.vf!==b)){var d=this.sb();d.type=14;d.Ua=b?1:0;this.Qa=!1;this.vf=b;this.mh=null;this.vf?this.ib(2):this.ib(0)}};c.prototype.mm=function(b){if(this.P){var d=this.sb();d.type=13;d.Ua=b?1:0;this.Qa=!1}};c.prototype.Fk=function(){Xb(this.Si,r);this.Tb();this.Gb();var b=this.width/2,d=this.height/2;this.Yf(-b,d,b,d,b,-d,-b,-d);Xb(r,this.Fb);
this.Gb()};c.prototype.lm=function(b,d,f){this.ib(3);var a=this.sb();a.type=12;a.C||(a.C=X());a.C[0]=b;a.C[1]=d;a.C[2]=f;a.C[3]=1;this.Qa=!1};c.prototype.Oq=function(){this.ib(0)};c.prototype.Eq=function(){this.ib(2)};c.prototype.Aq=function(){this.nd();this.k.flush()};var q=[],h={};c.prototype.Qn=function(){R(q);h={}};c.prototype.Xg=function(b,d,f,a){d=!!d;f=!!f;var e=b.src+","+d+","+f+(d?",undefined":""),g=null;if("undefined"!==typeof b.src&&h.hasOwnProperty(e))return g=h[e],g.ng++,g;this.nd();
var k=this.k,c=ha(b.width)&&ha(b.height),g=k.createTexture();k.bindTexture(k.TEXTURE_2D,g);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var m=k.RGBA,n=k.RGBA,l=k.UNSIGNED_BYTE;if(a&&!this.sd)switch(a){case 1:n=m=k.RGB;break;case 2:l=k.UNSIGNED_SHORT_4_4_4_4;break;case 3:l=k.UNSIGNED_SHORT_5_5_5_1;break;case 4:n=m=k.RGB,l=k.UNSIGNED_SHORT_5_6_5}if(!c&&d){a=document.createElement("canvas");a.width=ia(b.width);a.height=ia(b.height);var u=a.getContext("2d");u.webkitImageSmoothingEnabled=f;u.mozImageSmoothingEnabled=
f;u.msImageSmoothingEnabled=f;u.imageSmoothingEnabled=f;u.drawImage(b,0,0,b.width,b.height,0,0,a.width,a.height);k.texImage2D(k.TEXTURE_2D,0,m,n,l,a)}else k.texImage2D(k.TEXTURE_2D,0,m,n,l,b);d?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));f?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR),c&&
this.yk?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR_MIPMAP_LINEAR),k.generateMipmap(k.TEXTURE_2D)):k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST));k.bindTexture(k.TEXTURE_2D,null);this.vd=null;g.Kd=b.width;g.Jd=b.height;g.ng=1;g.lk=e;q.push(g);return h[e]=g};c.prototype.Cb=function(b,d,f,a){this.nd();var e=this.k;this.sd&&(a=!1);var g=e.createTexture();
e.bindTexture(e.TEXTURE_2D,g);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,b,d,0,e.RGBA,a?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,f?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,f?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,null);this.vd=null;g.Kd=b;g.Jd=d;q.push(g);return g};c.prototype.br=function(b,
d,f){this.nd();var a=this.k;this.sd&&(f=!1);a.bindTexture(a.TEXTURE_2D,d);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,f?a.UNSIGNED_SHORT_4_4_4_4:a.UNSIGNED_BYTE,b)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}a.bindTexture(a.TEXTURE_2D,null);this.vd=null};c.prototype.deleteTexture=function(b){b&&("undefined"!==typeof b.ng&&1<b.ng?b.ng--:(this.nd(),b===this.vd&&(this.k.bindTexture(this.k.TEXTURE_2D,null),this.vd=
null),b===this.Yd&&(this.k.activeTexture(this.k.TEXTURE1),this.k.bindTexture(this.k.TEXTURE_2D,null),this.k.activeTexture(this.k.TEXTURE0),this.Yd=null),Aa(q,b),"undefined"!==typeof b.lk&&delete h[b.lk],this.k.deleteTexture(b)))};c.prototype.Ub=function(b){if(b!==this.mh){var d=this.sb();d.type=6;this.mh=d.Wb=b;this.Qa=!1}};fb=c})();
(function(){function c(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var e=this;this.Oc=(this.Kg=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.rd=!!a.dc;this.Tp="undefined"!==typeof window.AppMobi||
this.rd;this.Mb=!!window.c2cocoonjs;this.jc=!!window.c2ejecta;this.Mb&&(CocoonJS.App.onSuspended.addEventListener(function(){e.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){e.setSuspended(!1)}));this.jc&&(document.addEventListener("pagehide",function(){e.setSuspended(!0)}),document.addEventListener("pageshow",function(){e.setSuspended(!1)}),document.addEventListener("resize",function(){e.setSize(window.innerWidth,window.innerHeight)}));this.Ta=this.rd||this.Mb||this.jc;this.Mg=
/edge\//i.test(navigator.userAgent);this.sd=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Mg;this.al=/tizen/i.test(navigator.userAgent);this.Zk=/android/i.test(navigator.userAgent)&&!this.al&&!this.sd&&!this.Mg;this.gl=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.sd&&!this.Mg;this.Yp=/ipad/i.test(navigator.userAgent);this.Qi=this.gl||this.Yp||this.jc;this.Ii=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.sd&&!this.Mg;this.Yk=/amazonwebappplatform/i.test(navigator.userAgent);this.Vp=/firefox/i.test(navigator.userAgent);this.td="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.dl=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Xp=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.ze=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Oi=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.cl=!!window.cr_windows10;this.bl=this.dl||this.Xp||this.Oi||this.cl;this.Up=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.$k=this.Zk&&!this.Ii&&!this.Kg&&!this.Vp&&!this.Yk&&!this.Ta;this.devicePixelRatio=1;this.Xd=this.Oc||this.Kg||this.Tp||this.Mb||this.Zk||this.Qi||this.ze||this.Oi||this.Up||this.al||this.jc;this.Xd||
(this.Xd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.Ni=!!(this.Qi&&this.Oc&&window.indexedDB);this.Sk=null;this.Op="";this.Ni&&(this.Sk=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.td||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.td=!0);this.canvas=a;this.ok=document.getElementById("c2canvasdiv");
this.g=this.k=null;this.yi="(unavailable)";this.P=!1;this.Pd=0;this.L=null;this.ni="";this.zg=!1;this.Nl=this.Ol=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.rd&&(window.c2runtime=this);this.td&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());
this.$k&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.p=this.width;this.n=this.height;this.qg=this.width;this.ff=this.height;this.Df=window.innerWidth;this.Cf=window.innerHeight;this.fp=!1;this.M=!0;this.yf=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.j=[];this.ca=[];this.Ui={};this.kc=[];this.hi={};this.Lc=[];this.Ve=[];this.zh=[];this.Hn=[];this.In=[];this.Bj=null;this.Md=
{};this.Ki=this.qd=!1;this.Qc=0;this.Ji=this.Mi=!1;this.fc=[];this.wf=!1;this.Rc=this.Ra=this.Vg=this.zj="";this.dg=this.vm=!1;this.yg=[];this.md=this.ue=0;this.Gl=30;this.$h=this.Mf=0;this.fg=1;this.Ob=new Wa;this.Eh=new Wa;this.fh=this.Cg=this.wg=this.Yc=this.$d=this.mi=this.Qg=0;this.Xh=null;this.uk=[];this.gi=[];this.vg=-1;this.$i=[[]];this.Jj=this.$g=0;this.oj(null);this.lf=this.Jl=this.Pf=0;this.vh=[];this.Gj=this.qj=-1;this.Pg=!0;this.Yg=0;this.xf=!1;this.Sq=0;this.$e=null;this.Lg=!1;this.Ll=
new ba;this.bj=new ba;this.Ml=new ba;this.em=[];new Ya([]);new Ya([]);this.re=[];this.Gg={};this.jd={};this.dd={};this.Ue={};this.ik={};this.ml=this.Ug=this.la=this.ua=this.ll=this.Tg=this.N=null;this.Se=this.Pi=!1;this.oi=[null,null];this.Sd=0;this.Uc={};this.bg=this.xd=null;this.wm="";this.eh=[];this.Dq()}}function m(a,e){return 128>=e?a[3]:256>=e?a[2]:512>=e?a[1]:a[0]}function n(){try{return!!window.indexedDB}catch(a){return!1}}function p(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}
function r(a,e,b,d){try{var k=indexedDB.open("_C2SaveStates");k.onupgradeneeded=p;k.onerror=d;k.onsuccess=function(k){k=k.target.result;k.onerror=d;k.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:e}).onsuccess=b}}catch(f){d(f)}}function q(a,e,b){try{var d=indexedDB.open("_C2SaveStates");d.onupgradeneeded=p;d.onerror=b;d.onsuccess=function(d){d=d.target.result;d.onerror=b;var k=d.transaction(["saves"]).objectStore("saves").get(a);k.onsuccess=function(){k.result?e(k.result.data):
e(null)}}}catch(k){b(k)}}function h(){z("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function b(a){var e,b={};for(e in a)!a.hasOwnProperty(e)||a[e]instanceof ba||a[e]&&"undefined"!==typeof a[e].ns||"spriteCreatedDestroyCallback"!==e&&(b[e]=a[e]);return b}var d=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;c.prototype.Dq=function(){var a=this;if(this.Ni)this.Sk.startServer({port:0,localhost_only:!0},function(e){a.Op=e;a.cp(function(e){a.Ff(JSON.parse(e))},function(){alert("Error fetching data.js")})},function(a){alert("error starting local server: "+a)});else{var e;this.ze?e=new ActiveXObject("Microsoft.XMLHTTP"):e=new XMLHttpRequest;var b="data.js";if(this.dl||this.ze||this.Oi||this.cl)b="data.json";e.open("GET",b,!0);var d=!1;if(!this.Ta&&
"response"in e&&"responseType"in e)try{e.responseType="json",d="json"===e.responseType}catch(k){d=!1}if(!d&&"responseType"in e)try{e.responseType="text"}catch(f){}if("overrideMimeType"in e)try{e.overrideMimeType("application/json; charset=utf-8")}catch(l){}this.ze?e.onreadystatechange=function(){4===e.readyState&&a.Ff(JSON.parse(e.responseText))}:(e.onload=function(){if(d)a.Ff(e.response);else if(a.jc){var b=e.responseText,b=b.substr(b.indexOf("{"));a.Ff(JSON.parse(b))}else a.Ff(JSON.parse(e.responseText))},
e.onerror=function(a){da("Error requesting "+b+":");da(a)});e.send()}};c.prototype.Rp=function(){var a=this,e,b,d,k,f,l,g,h,c;this.ye=(!this.Ta||this.jc||this.Oc)&&this.Zq&&!this.$k;0===this.eb&&this.Qi&&(this.ye=!1);this.devicePixelRatio=this.ye?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Ma();b=!(!this.fp&&(!this.Ih||this.td||this.bl||this.ze||this.Kg||this.Oc||this.Yk));0<this.eb&&this.setSize(window.innerWidth,window.innerHeight,
!0);try{this.vo&&(this.Mb||this.jc||!this.Ta)&&(e={alpha:b,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.k=this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e))}catch(u){}if(this.k){if(e=this.k.getExtension("WEBGL_debug_renderer_info"))this.yi=this.k.getParameter(e.UNMASKED_RENDERER_WEBGL)+" ["+this.k.getParameter(e.UNMASKED_VENDOR_WEBGL)+"]";this.P&&(this.yi+=" [front-to-back enabled]");this.Ta||(this.Ia=document.createElement("canvas"),jQuery(this.Ia).appendTo(this.canvas.parentNode),
this.Ia.oncontextmenu=function(){return!1},this.Ia.onselectstart=function(){return!1},this.Ia.width=Math.round(this.qg*this.devicePixelRatio),this.Ia.height=Math.round(this.ff*this.devicePixelRatio),jQuery(this.Ia).css({width:this.qg+"px",height:this.ff+"px"}),this.Zl(),this.hj=this.Ia.getContext("2d"));this.g=new fb(this.k,this.Xd,this.P);this.g.je(this.canvas.width,this.canvas.height);this.g.yk=0!==this.oo;this.L=null;this.canvas.addEventListener("webglcontextlost",function(e){e.preventDefault();
a.hq();z("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.g.Uk();a.g.je(a.g.width,a.g.height,!0);a.ua=null;a.la=null;a.oi[0]=null;a.oi[1]=null;a.iq();a.M=!0;z("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);e=0;for(b=this.j.length;e<b;e++)for(f=this.j[e],d=0,k=f.u.length;d<k;d++)g=f.u[d],g.oa=this.g.xi(g.id),g.mc=this.g.lj(g.oa),this.Se=this.Se||this.g.Uf(g.oa);e=0;for(b=this.kc.length;e<b;e++){h=
this.kc[e];d=0;for(k=h.u.length;d<k;d++)g=h.u[d],g.oa=this.g.xi(g.id),g.mc=this.g.lj(g.oa);h.qc();d=0;for(k=h.B.length;d<k;d++){c=h.B[d];f=0;for(l=c.u.length;f<l;f++)g=c.u[f],g.oa=this.g.xi(g.id),g.mc=this.g.lj(g.oa),this.Se=this.Se||this.g.Uf(g.oa);c.qc()}}}else{if(0<this.eb&&this.rd){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.L=AppMobi.canvas.getContext("2d");try{this.L.samplingMode=this.F?"smooth":"sharp",this.L.globalScale=1,this.L.HTML5CompatibilityMode=
!0,this.L.imageSmoothingEnabled=this.F}catch(m){}0!==this.width&&0!==this.height&&(this.L.width=this.width,this.L.height=this.height)}this.L||(this.Mb?(e={antialias:!!this.F,alpha:b},this.L=this.canvas.getContext("2d",e)):(e={alpha:b},this.L=this.canvas.getContext("2d",e)),this.L.webkitImageSmoothingEnabled=this.F,this.L.mozImageSmoothingEnabled=this.F,this.L.msImageSmoothingEnabled=this.F,this.L.imageSmoothingEnabled=this.F);this.hj=this.Ia=null}this.Dm=function(e){a.Fc(!1,e)};window==window.top||
this.Ta||this.bl||this.ze||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Mb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(z("Reloading for continuous preview"),this.Vg="__c2_continuouspreview",this.dg=!0),this.tq&&!this.Xd&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){a.setSuspended(!0)})));
window.addEventListener("blur",function(){});this.Ta||(e=function(a){if(eb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(e){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",e):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",e):document.addEventListener("touchstart",e),document.addEventListener("mousedown",e));0===this.eb&&this.ye&&
1<this.devicePixelRatio&&this.setSize(this.xa,this.wa,!0);this.Jm();this.Kp();this.go();this.Q={}};c.prototype.setSize=function(a,e,b){var d=0,k=0,f=0,l=0,l=0;if(this.Df!==a||this.Cf!==e||b){this.Df=a;this.Cf=e;var g=this.eb,h=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.xf)&&!this.Oc;if(h||0!==this.eb||b)h&&0<this.Sd&&(g=this.Sd),b=this.devicePixelRatio,4<=g?(f=this.xa/this.wa,a/e>f?(f*=e,5===g?(l=f*b/this.xa,1<l?l=Math.floor(l):
1>l&&(l=1/Math.ceil(1/l)),f=this.xa*l/b,l=this.wa*l/b,d=(a-f)/2,k=(e-l)/2,a=f,e=l):(d=(a-f)/2,a=f)):(l=a/f,5===g?(l=l*b/this.wa,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),f=this.xa*l/b,l=this.wa*l/b,d=(a-f)/2,k=(e-l)/2,a=f):k=(e-l)/2,e=l),h&&!this.td&&(k=d=0)):this.td&&this.xf&&0===this.Gk&&(d=Math.floor((a-this.xa)/2),k=Math.floor((e-this.wa)/2),a=this.xa,e=this.wa),2>g&&(this.Ze=b),this.qg=Math.round(a),this.ff=Math.round(e),this.width=Math.round(a*b),this.height=Math.round(e*b),this.M=!0,this.Vm?
(this.p=this.width,this.n=this.height,this.Db=!0):this.width<this.xa&&this.height<this.wa||1===g?(this.p=this.width,this.n=this.height,this.Db=!0):(this.p=this.xa,this.n=this.wa,this.Db=!1,2===g?(f=this.xa/this.wa,g=this.Df/this.Cf,g<f?this.p=this.n*g:g>f&&(this.n=this.p/g)):3===g&&(f=this.xa/this.wa,g=this.Df/this.Cf,g>f?this.p=this.n*g:g<f&&(this.n=this.p/g))),this.ok&&!this.Ta&&(jQuery(this.ok).css({width:Math.round(a)+"px",height:Math.round(e)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(k)+
"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(e)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*b),this.canvas.height=Math.round(e*b),this.jc?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(k)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(e)+"px"):this.ye&&!this.Ta&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(e)+"px")),this.Ia&&
(this.Ia.width=Math.round(a*b),this.Ia.height=Math.round(e*b),this.Ia.style.width=this.qg+"px",this.Ia.style.height=this.ff+"px"),this.g&&this.g.je(Math.round(a*b),Math.round(e*b)),this.rd&&this.L&&(this.L.width=Math.round(a),this.L.height=Math.round(e)),this.L&&(this.L.webkitImageSmoothingEnabled=this.F,this.L.mozImageSmoothingEnabled=this.F,this.L.msImageSmoothingEnabled=this.F,this.L.imageSmoothingEnabled=this.F),this.Jm(),this.gl&&!this.Oc&&window.scrollTo(0,0)}};c.prototype.Jm=function(){if(this.Kn&&
0!==this.gj){var a="portrait";2===this.gj&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(e){console&&console.warn&&console.warn("Failed to lock orientation: ",e)}}};c.prototype.hq=function(){this.g.Qn();this.Pi=!0;var a,e,b;a=0;for(e=
this.j.length;a<e;a++)b=this.j[a],b.hh&&b.hh()};c.prototype.iq=function(){this.Pi=!1;var a,e,b;a=0;for(e=this.j.length;a<e;a++)b=this.j[a],b.fj&&b.fj()};c.prototype.Zl=function(){if(!this.Ta){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.xf)&&!this.Oc?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Ia).css(a)}};var f=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||
window.msCancelAnimationFrame||window.oCancelAnimationFrame;c.prototype.setSuspended=function(a){var e;if(a&&!this.yf)for(z("[Construct 2] Suspending"),this.yf=!0,-1!==this.qj&&f&&f(this.qj),-1!==this.Gj&&clearTimeout(this.Gj),a=0,e=this.vh.length;a<e;a++)this.vh[a](!0);else if(!a&&this.yf){z("[Construct 2] Resuming");this.yf=!1;this.Qg=Ra();this.$d=Ra();a=this.Mf=this.Cg=0;for(e=this.vh.length;a<e;a++)this.vh[a](!1);this.Fc(!1)}};c.prototype.bd=function(a){return this.eh[a]};c.prototype.Ff=function(a){a&&
a.project||da("Project model unavailable");a=a.project;this.name=a[0];this.Ek=a[1];this.eb=a[12];this.Gk=a[12];this.xa=a[10];this.wa=a[11];this.Tl=this.xa/2;this.Ul=this.wa/2;this.Ta&&!this.jc&&(4<=a[12]||0===a[12])&&(z("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Gk=this.eb=3);this.Qj=a[18];this.yd=a[19];if(0===this.yd){var e=new Image;e.crossOrigin="anonymous";this.om(e,"loading-logo.png");this.xd={ah:e}}else if(4===this.yd){e=
new Image;e.src="";var b=new Image;b.src="";var d=new Image;d.src="";var k=new Image;k.src="";var f=new Image;f.src="";var l=new Image;l.src="";var g=new Image;g.src="";var h=new Image;h.src="";var c=new Image;c.src="";var u=new Image;u.src="";var m=new Image;m.src="";var w=new Image;w.src="";this.xd={ah:[e,b,d,k],xq:[f,l,g,h],cr:[c,u,m,w]}}this.Pf=a[21];this.eh=ac();this.Ec=new Y(this);e=0;for(b=a[2].length;e<b;e++)g=a[2][e],d=this.bd(g[0]),gb(g,d.prototype),h=new d(this),h.sh=g[1],h.ud=g[2],h.Hl=
g[9],h.W&&h.W(),this.plugins.push(h);this.eh=ac();e=0;for(b=a[3].length;e<b;e++){g=a[3][e];f=this.bd(g[1]);h=null;d=0;for(k=this.plugins.length;d<k;d++)if(this.plugins[d]instanceof f){h=this.plugins[d];break}c=new h.Wa(h);c.name=g[0];c.q=g[2];c.Gi=g[3].slice(0);c.$q=g[3].length;c.Ln=g[4];c.gp=g[5];c.G=g[11];c.q?(c.Nf=[],c.Mc=this.lf++,c.X=null):(c.Nf=null,c.Mc=-1,c.X=[]);c.xg=null;c.we=null;c.zk=null;c.Nb=!1;c.mb=null;g[6]?(c.Dj=g[6][0],c.Ej=g[6][1],c.Fj=g[6][2]):(c.Dj=null,c.Ej=0,c.Fj=0);g[7]?c.Za=
g[7]:c.Za=null;c.index=e;c.d=[];c.tg=[];c.Xc=[new hb(c)];c.tc=0;c.uc=null;c.Un=0;c.Qe=!0;c.Ah=ib;c.lp=jb;c.sp=kb;c.V=lb;c.Xf=mb;c.nj=nb;c.Le=ob;c.Dg=pb;c.pi=qb;c.si=rb;c.Hd=sb;c.vi=tb;c.og=new Za(this.xa,this.wa);c.lg=!0;c.mg=!1;c.Q={};c.toString=ub;c.ca=[];d=0;for(k=g[8].length;d<k;d++){u=g[8][d];m=this.bd(u[1]);w=null;f=0;for(l=this.ca.length;f<l;f++)if(this.ca[f]instanceof m){w=this.ca[f];break}w||(w=new m(this),w.aj=[],w.ee=new ba,w.W&&w.W(),this.ca.push(w),bc&&w instanceof bc&&(this.Bj=w));-1===
w.aj.indexOf(c)&&w.aj.push(c);f=new w.Wa(w,c);f.name=u[0];f.G=u[2];f.W();c.ca.push(f)}c.global=g[9];c.Li=g[10];c.u=[];d=0;for(k=g[12].length;d<k;d++)c.u.push({id:g[12][d][0],name:g[12][d][1],oa:-1,mc:!1,zb:!0,index:d});c.xs=g[13];this.Qj&&!c.q&&!c.Li&&h.ud||c.W();c.name&&(this.types[c.name]=c);this.j.push(c);h.sh&&(d=new h.Aa(c),d.uid=this.Pf++,d.cm=this.Jl++,d.Ud=0,d.nf=vb,d.toString=wb,d.Y=g[14],d.W(),c.d.push(d),this.Uc[d.uid.toString()]=d)}e=0;for(b=a[4].length;e<b;e++)for(f=a[4][e],l=this.j[f[0]],
d=1,k=f.length;d<k;d++)g=this.j[f[d]],g.X.push(l),l.Nf.push(g);e=0;for(b=a[28].length;e<b;e++){f=a[28][e];l=[];d=0;for(k=f.length;d<k;d++)l.push(this.j[f[d]]);d=0;for(k=l.length;d<k;d++)l[d].Nb=!0,l[d].mb=l}if(0<this.lf)for(e=0,b=this.j.length;e<b;e++)if(g=this.j[e],!g.q&&g.X.length){g.xg=Array(this.lf);g.we=Array(this.lf);g.zk=Array(this.lf);c=[];d=w=m=u=0;for(k=g.X.length;d<k;d++)for(h=g.X[d],g.xg[h.Mc]=u,u+=h.$q,g.we[h.Mc]=m,m+=h.Ln,g.zk[h.Mc]=w,w+=h.gp,f=0,l=h.u.length;f<l;f++)c.push(ta({},h.u[f]));
g.u=c.concat(g.u);d=0;for(k=g.u.length;d<k;d++)g.u[d].index=d}e=0;for(b=a[5].length;e<b;e++)g=a[5][e],d=new xb(this,g),this.Ui[d.name]=d,this.kc.push(d);e=0;for(b=a[6].length;e<b;e++)g=a[6][e],d=new yb(this,g),this.hi[d.name]=d,this.Lc.push(d);e=0;for(b=this.Lc.length;e<b;e++)this.Lc[e].ja();e=0;for(b=this.Lc.length;e<b;e++)this.Lc[e].Nj();e=0;for(b=this.zh.length;e<b;e++)this.zh[e].ja();R(this.zh);this.Jn=a[7];this.lc=a[9];this.Ze=1;this.vo=a[13];this.F=a[14];this.Ih=a[15];this.Zq=a[17];this.gj=
a[20];this.Kn=0<this.gj;this.tq=a[22];this.Db=this.Vm=a[23];this.oo=a[24];this.yq=a[25];this.P=a[27]&&!this.sd;this.uh=Date.now();R(this.eh);this.Rp()};var a=!1;c.prototype.Um=function(e,b){e.cocoonLazyLoad=!0;e.onerror=function(b){a=e.kk=!0;console&&console.error&&console.error("Error loading image '"+e.src+"': ",b)};this.jc?e.src=b:e.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(a){e.src=a},function(d){a=e.kk=!0;console&&console.error&&console.error("Error extracting image '"+
b+"' from expansion file: ",d)}):(e.crossOrigin="anonymous",this.om(e,b)));this.Ve.push(e)};c.prototype.ep=function(a){var e,b;e=0;for(b=this.Ve.length;e<b;e++)if(this.Ve[e].Rn===a)return this.Ve[e];return null};var e=0,g=!1;c.prototype.Kp=function(){this.$e&&(e=this.$e.us(this.Jn))};c.prototype.bk=function(){var a=e,b=0,d=0,k=!0,f,l,d=0;for(f=this.Ve.length;d<f;d++){l=this.Ve[d];var c=l.qk;if(!c||0>=c)c=5E4;a+=c;l.src&&(l.complete||l.loaded)&&!l.kk?b+=c:k=!1}k&&this.yq&&this.$e&&(g||(this.$e.vs(),
g=!0),d=this.$e.qs(),b+=d,d<e&&(k=!1));this.nc=0==a?1:b/a;return k};var k=!1;c.prototype.go=function(){if(this.L||this.g){var e=this.L||this.hj;this.Ia&&this.Zl();this.nc=0;this.kl=-1;var b=this;if(this.bk()&&(4!==this.yd||k))this.Lp();else{var f=Date.now()-this.uh;if(e){var l=this.width,g=this.height,c=this.devicePixelRatio;if(3>this.yd&&(this.Mb||500<=f&&this.kl!=this.nc)){e.clearRect(0,0,l,g);var f=l/2,g=g/2,l=0===this.yd&&this.xd.ah.complete,h=40*c,u=0,m=80*c,w;if(l){var t=this.xd.ah,m=t.width*
c;w=t.height*c;h=m/2;u=w/2;e.drawImage(t,M(f-h),M(g-u),m,w)}1>=this.yd?(f=M(f-h)+.5,g=M(g+(u+(l?12*c:0)))+.5,e.fillStyle=a?"red":"DodgerBlue",e.fillRect(f,g,Math.floor(m*this.nc),6*c),e.strokeStyle="black",e.strokeRect(f,g,m,6*c),e.strokeStyle="white",e.strokeRect(f-1*c,g-1*c,m+2*c,8*c)):2===this.yd&&(e.font=this.jc?"12pt ArialMT":"12pt Arial",e.fillStyle=a?"#f00":"#999",e.ws="middle",c=Math.round(100*this.nc)+"%",l=e.measureText?e.measureText(c):null,e.fillText(c,f-(l?l.width:0)/2,g));this.kl=this.nc}else if(4===
this.yd){this.to(e);d?d(function(){b.go()}):setTimeout(function(){b.go()},16);return}}setTimeout(function(){b.go()},this.Mb?10:100)}}};var w=-1,t="undefined"===typeof cr_is_preview?200:0,O=!0,l=!1,u=0,ya=0,E="undefined"===typeof cr_is_preview?3E3:0,C=null,x=null,H=0;c.prototype.to=function(e){if(!k){for(var b=Math.ceil(this.width),d=Math.ceil(this.height),f=this.xd.ah,g=this.xd.xq,c=this.xd.cr,h=0;4>h;++h)if(!f[h].complete||!g[h].complete||!c[h].complete)return;0===H&&(w=Date.now());var h=Date.now(),
q=!1,n=e,p,r;O||l?(e.clearRect(0,0,b,d),C&&C.width===b&&C.height===d||(C=document.createElement("canvas"),C.width=b,C.height=d,x=C.getContext("2d")),n=x,q=!0,O&&1===H&&(w=Date.now())):e.globalAlpha=1;n.fillStyle="#333333";n.fillRect(0,0,b,d);256<this.ff?(p=Ba(.22*d,105,.6*b),r=.25*p,n.drawImage(m(g,p),.5*b-p/2,.2*d-r/2,p,r),r=p=Math.min(.395*d,.95*b),n.drawImage(m(f,p),.5*b-p/2,.485*d-r/2,p,r),p=Ba(.22*d,105,.6*b),r=.25*p,n.drawImage(m(c,p),.5*b-p/2,.868*d-r/2,p,r),n.fillStyle="#3C3C3C",p=b,r=Math.max(.005*
d,2),n.fillRect(0,.8*d-r/2,p,r),n.fillStyle=a?"red":"#E0FF65",p=b*this.nc,n.fillRect(.5*b-p/2,.8*d-r/2,p,r)):(r=p=.55*d,n.drawImage(m(f,p),.5*b-p/2,.45*d-r/2,p,r),n.fillStyle="#3C3C3C",p=b,r=Math.max(.005*d,2),n.fillRect(0,.85*d-r/2,p,r),n.fillStyle=a?"red":"#E0FF65",p=b*this.nc,n.fillRect(.5*b-p/2,.85*d-r/2,p,r));q&&(O?e.globalAlpha=0===H?0:Math.min((h-w)/300,1):l&&(e.globalAlpha=Math.max(1-(h-ya)/300,0)),e.drawImage(C,0,0,b,d));O&&300<=h-w&&2<=H&&(O=!1,u=h);!O&&h-u>=E&&!l&&1<=this.nc&&(l=!0,ya=
h);if(l&&h-ya>=300+t||"undefined"!==typeof cr_is_preview&&1<=this.nc&&500>Date.now()-w)k=!0,l=O=!1,this.xd=x=C=null;++H}};c.prototype.Lp=function(){this.Ia&&(this.canvas.parentNode.removeChild(this.Ia),this.Ia=this.hj=null);this.uh=Date.now();this.$d=Ra();var a,e,b;if(this.Qj)for(a=0,e=this.j.length;a<e;a++)b=this.j[a],b.q||b.Li||!b.ma.ud||b.W();else this.Pg=!1;a=0;for(e=this.kc.length;a<e;a++)this.kc[a].Sn();2<=this.eb&&(a=this.xa/this.wa,e=this.width/this.height,this.Ze=2!==this.eb&&e>a||2===this.eb&&
e<a?this.height/this.wa:this.width/this.xa);this.Ek?this.Ui[this.Ek].Cj():this.kc[0].Cj();this.Qj||(this.Yg=1,this.trigger(Y.prototype.H.Wj,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(e=this.j.length;a<e;a++)b=this.j[a],b.gq&&b.gq();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Fc(!1);this.rd&&AppMobi.webview.execute("onGameReady();")};c.prototype.Fc=function(a,e,b){if(this.N){var k=
Ra();if(b||!this.yf||a){a||(d?this.qj=d(this.Dm):this.Gj=setTimeout(this.Dm,this.Xd?1:16));e=e||k;var f=this.eb;((b=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Oc)||this.xf)&&0<this.Sd&&(f=this.Sd);if(0<f){var f=window.innerWidth,g=window.innerHeight;this.Df===f&&this.Cf===g||this.setSize(f,g)}this.Ta||(b?(this.zg||(this.ni=jQuery(this.canvas).css("margin")||"0",this.zg=!0),this.Ii||this.td||jQuery(this.canvas).css({"margin-left":""+
Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.zg?(this.Ii||this.td||jQuery(this.canvas).css("margin",this.ni),this.ni="",this.zg=!1,0===this.eb&&this.setSize(Math.round(this.Ol/this.devicePixelRatio),Math.round(this.Nl/this.devicePixelRatio),!0)):(this.Ol=this.width,this.Nl=this.height));this.Pg&&(b=this.bk(),this.Yg=this.nc,b&&(this.Pg=!1,this.nc=1,this.trigger(Y.prototype.H.Wj,null)));
this.aq(e);!this.M&&!this.Mb||this.Pi||this.dg||a||(this.M=!1,this.g?this.nb():this.vc(),this.bg&&(this.canvas&&this.canvas.toDataURL&&(this.wm=this.canvas.toDataURL(this.bg[0],this.bg[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.wm),this.trigger(Y.prototype.H.pn,null)),this.bg=null));this.rs||(this.Yc++,this.wg++,this.Cg++);this.Mf+=Ra()-k}}};c.prototype.aq=function(a){var e,b,d,k,f,g,l,c;1E3<=a-this.$d&&(this.$d+=1E3,1E3<=a-this.$d&&(this.$d=a),this.mi=this.Cg,this.Cg=0,this.$h=this.Mf,this.Mf=
0);0!==this.Qg&&(e=a-this.Qg,0>e&&(e=0),this.md=e/1E3,.5<this.md?this.md=0:this.md>1/this.Gl&&(this.md=1/this.Gl));this.Qg=a;this.ue=this.md*this.fg;this.Ob.add(this.ue);this.Eh.add(this.md);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.xf)&&!this.Oc;2<=this.eb||a&&0<this.Sd?(e=this.xa/this.wa,b=this.width/this.height,d=this.eb,a&&0<this.Sd&&(d=this.Sd),this.Ze=2!==d&&b>e||2===d&&b<e?this.height/this.wa:this.width/this.xa,this.N&&
(this.N.im(this.N.scrollX),this.N.jm(this.N.scrollY))):this.Ze=this.ye?this.devicePixelRatio:1;this.Ma();this.Qc++;this.Ec.Gq();this.Qc--;this.Ma();this.Qc++;b=this.Ll.Xb();a=0;for(e=b.length;a<e;a++)b[a].ss();a=0;for(e=this.j.length;a<e;a++)if(g=this.j[a],!g.q&&(g.ca.length||g.X.length))for(b=0,d=g.d.length;b<d;b++)for(l=g.d[b],k=0,f=l.r.length;k<f;k++)l.r[k].Fc();a=0;for(e=this.j.length;a<e;a++)if(g=this.j[a],!g.q&&(g.ca.length||g.X.length))for(b=0,d=g.d.length;b<d;b++)for(l=g.d[b],k=0,f=l.r.length;k<
f;k++)c=l.r[k],c.wq&&c.wq();b=this.bj.Xb();a=0;for(e=b.length;a<e;a++)b[a].Fc();this.Qc--;this.Mp();for(a=0;this.Xh&&10>a++;)this.vk(this.Xh);a=0;for(e=this.Lc.length;a<e;a++)this.Lc[a].Bi=!1;this.N.Qd&&this.N.Qd.ya();R(this.em);this.Qc++;a=0;for(e=this.j.length;a<e;a++)if(g=this.j[a],!g.q&&(g.ca.length||g.X.length))for(b=0,d=g.d.length;b<d;b++)for(l=g.d[b],k=0,f=l.r.length;k<f;k++)c=l.r[k],c.Cm&&c.Cm();b=this.Ml.Xb();a=0;for(e=b.length;a<e;a++)b[a].Cm();this.Qc--};c.prototype.vk=function(a){var e=
this.N;this.N.Tq();var b,d,k;if(this.g)for(b=0,d=this.j.length;b<d;b++)k=this.j[b],k.q||!k.Mj||k.global&&0!==k.d.length||-1!==a.uf.indexOf(k)||k.Mj();e==a&&R(this.Ec.yb);R(this.em);this.fm(!0);a.Cj();this.fm(!1);this.M=!0;this.Ma()};c.prototype.fm=function(a){var e,b,d,k,f,g,l,c,h;e=0;for(b=this.ca.length;e<b;e++)d=this.ca[e],a?d.Rf&&d.Rf():d.Sf&&d.Sf();e=0;for(b=this.j.length;e<b;e++)if(d=this.j[e],d.global||d.ma.sh)for(k=0,f=d.d.length;k<f;k++)if(g=d.d[k],a?g.Rf&&g.Rf():g.Sf&&g.Sf(),g.r)for(l=0,
c=g.r.length;l<c;l++)h=g.r[l],a?h.Rf&&h.Rf():h.Sf&&h.Sf()};c.prototype.Em=function(a){this.bj.add(a)};c.prototype.qi=function(a){return a&&-1!==a.Of?this.md*a.Of:this.ue};c.prototype.vc=function(){this.N.vc(this.L);this.rd&&this.L.present()};c.prototype.nb=function(){this.P&&(this.Pd=1,this.N.Od(this.g));this.N.nb(this.g);this.g.Aq()};c.prototype.Mk=function(a){a=a.toString();return this.Uc.hasOwnProperty(a)?this.Uc[a]:null};var y=[];c.prototype.ne=function(a){var e,b;e=a.type.name;var d=null;if(this.Md.hasOwnProperty(e)){if(d=
this.Md[e],d.contains(a))return}else d=y.length?y.pop():new ba,this.Md[e]=d;d.add(a);this.qd=!0;if(a.Nb)for(e=0,b=a.siblings.length;e<b;e++)this.ne(a.siblings[e]);this.Ki&&d.Te.push(a);this.Ji||(this.Qc++,this.trigger(Object.getPrototypeOf(a.type.ma).H.qn,a),this.Qc--)};c.prototype.Ma=function(){if(this.qd){var a,e,b,d,k,f;this.Ki=!0;b=0;for(k=this.fc.length;b<k;++b)for(a=this.fc[b],e=a.type,e.d.push(a),d=0,f=e.X.length;d<f;++d)e.X[d].d.push(a),e.X[d].Qe=!0;R(this.fc);this.jn();Qa(this.Md);this.qd=
this.Ki=!1}};c.prototype.jn=function(){for(var a in this.Md)this.Md.hasOwnProperty(a)&&this.$m(this.Md[a])};c.prototype.$m=function(a){var e=a.Xb(),b=e[0].type,d,k,f,g,l,c;Ta(b.d,a);b.Qe=!0;0===b.d.length&&(b.mg=!1);d=0;for(k=b.X.length;d<k;++d)c=b.X[d],Ta(c.d,a),c.Qe=!0;d=0;for(k=this.Ec.yb.length;d<k;++d)if(l=this.Ec.yb[d],l.xb.hasOwnProperty(b.index)&&Ta(l.xb[b.index].Wd,a),!b.q)for(f=0,g=b.X.length;f<g;++f)c=b.X[f],l.xb.hasOwnProperty(c.index)&&Ta(l.xb[c.index].Wd,a);if(l=e[0].e){if(l.Hb)for(f=
l.d,d=0,k=f.length;d<k;++d)g=f[d],a.contains(g)&&(g.za(),l.Ja.update(g,g.hb,null),g.hb.set(0,0,-1,-1));Ta(l.d,a);l.Zf(0)}for(d=0;d<e.length;++d)this.Zm(e[d],b);a.clear();y.push(a);this.M=!0};c.prototype.Zm=function(a,e){var b,d,k;b=0;for(d=this.uk.length;b<d;++b)this.uk[b](a);a.kd&&e.og.update(a,a.kd,null);(b=a.e)&&b.Me(a,!0);if(a.r)for(b=0,d=a.r.length;b<d;++b)k=a.r[b],k.Ie&&k.Ie(),k.behavior.ee.remove(a);this.Ll.remove(a);this.bj.remove(a);this.Ml.remove(a);a.Ie&&a.Ie();this.Uc.hasOwnProperty(a.uid.toString())&&
delete this.Uc[a.uid.toString()];this.fh--;100>e.tg.length&&e.tg.push(a)};var A=[];c.prototype.Ld=function(a,e,b,d,k,f){var g,l,c,h;if(!a)return null;var u=this.j[a[1]],m=u.ma.ud;if(this.Pg&&m&&!u.Li||m&&!this.g&&11===a[0][11])return null;var w=e;m||(e=null);var t;u.tg.length?(t=u.tg.pop(),t.Sb=!0,u.ma.Aa.call(t,u)):(t=new u.ma.Aa(u),t.Sb=!1);!b||f||this.Uc.hasOwnProperty(a[2].toString())?t.uid=this.Pf++:t.uid=a[2];this.Uc[t.uid.toString()]=t;t.cm=this.Jl++;t.Ud=u.d.length;g=0;for(l=this.fc.length;g<
l;++g)this.fc[g].type===u&&t.Ud++;t.nf=vb;t.toString=wb;c=a[3];if(t.Sb)Qa(t.Q);else{t.Q={};if("undefined"!==typeof cr_is_preview)for(t.Xk=[],t.Xk.length=c.length,g=0,l=c.length;g<l;g++)t.Xk[g]=c[g][1];t.ra=[];t.ra.length=c.length}g=0;for(l=c.length;g<l;g++)t.ra[g]=c[g][0];if(m){var q=a[0];t.x=fa(d)?q[0]:d;t.y=fa(k)?q[1]:k;t.z=q[2];t.width=q[3];t.height=q[4];t.depth=q[5];t.i=q[6];t.opacity=q[7];t.fb=q[8];t.gb=q[9];t.Na=q[10];g=q[11];!this.g&&u.u.length&&(t.Na=g);t.bf=ab(t.Na);this.k&&bb(t,t.Na,this.k);
if(t.Sb){g=0;for(l=q[12].length;g<l;g++)for(c=0,h=q[12][g].length;c<h;c++)t.da[g][c]=q[12][g][c];t.pa.set(0,0,0,0);t.kd.set(0,0,-1,-1);t.hb.set(0,0,-1,-1);t.Ic.rh(t.pa);R(t.Nh)}else{t.da=q[12].slice(0);g=0;for(l=t.da.length;g<l;g++)t.da[g]=q[12][g].slice(0);t.J=[];t.cd=[];t.cd.length=u.u.length;t.pa=new P(0,0,0,0);t.kd=new P(0,0,-1,-1);t.hb=new P(0,0,-1,-1);t.Ic=new sa;t.Nh=[];t.Z=zb;t.ms=Ab;t.ec=Bb;t.za=Cb;t.Yq=Db;t.Qm=Eb;t.Lb=Fb}t.Fm=!1;t.Wq=0;t.Vq=0;t.Uq=null;14===q.length&&(t.Fm=!0,t.Wq=q[13][0],
t.Vq=q[13][1],t.Uq=q[13][2]);g=0;for(l=u.u.length;g<l;g++)t.cd[g]=!0;t.Vc=!0;t.qc=Gb;t.qc();t.Sm=!!t.J.length;t.Mh=!0;t.Sh=!0;u.lg=!0;t.visible=!0;t.Of=-1;t.e=e;t.rc=e.d.length;t.Pd=0;"undefined"===typeof t.Bb&&(t.Bb=null);this.M=t.se=!0}var n;R(A);g=0;for(l=u.X.length;g<l;g++)A.push.apply(A,u.X[g].ca);A.push.apply(A,u.ca);if(t.Sb)for(g=0,l=A.length;g<l;g++){var p=A[g];n=t.r[g];n.Sb=!0;p.behavior.Aa.call(n,p,t);q=a[4][g];c=0;for(h=q.length;c<h;c++)n.Y[c]=q[c];n.W();p.behavior.ee.add(t)}else for(t.r=
[],g=0,l=A.length;g<l;g++)p=A[g],n=new p.behavior.Aa(p,t),n.Sb=!1,n.Y=a[4][g].slice(0),n.W(),t.r.push(n),p.behavior.ee.add(t);q=a[5];if(t.Sb)for(g=0,l=q.length;g<l;g++)t.Y[g]=q[g];else t.Y=q.slice(0);this.fc.push(t);this.qd=!0;e&&(e.Ye(t,!0),1!==e.Je||1!==e.Ke)&&(u.mg=!0);this.fh++;if(u.Nb){if(t.Nb=!0,t.Sb?R(t.siblings):t.siblings=[],!b&&!f){g=0;for(l=u.mb.length;g<l;g++)if(u.mb[g]!==u){if(!u.mb[g].uc)return null;t.siblings.push(this.Ld(u.mb[g].uc,w,!1,m?t.x:d,m?t.y:k,!0))}g=0;for(l=t.siblings.length;g<
l;g++)for(t.siblings[g].siblings.push(t),c=0;c<l;c++)g!==c&&t.siblings[g].siblings.push(t.siblings[c])}}else t.Nb=!1,t.siblings=null;t.W();g=0;for(l=t.r.length;g<l;g++)t.r[g].vq&&t.r[g].vq();return t};c.prototype.pp=function(a){var e,b;e=0;for(b=this.N.B.length;e<b;e++){var d=this.N.B[e];if(db(d.name,a))return d}return null};c.prototype.qp=function(a){a=M(a);0>a&&(a=0);a>=this.N.B.length&&(a=this.N.B.length-1);return this.N.B[a]};c.prototype.Yh=function(a){var e,b;e=0;for(b=a.length;e<b;e++)a[e].V().na=
!0};c.prototype.Xf=function(a){var e,b;e=0;for(b=a.length;e<b;e++)a[e].Xf()};c.prototype.nj=function(a){var e,b;e=0;for(b=a.length;e<b;e++)a[e].nj()};c.prototype.Le=function(a){var e,b;e=0;for(b=a.length;e<b;e++)a[e].Le()};c.prototype.Om=function(a){if(a.lg){var e,b,d=a.d;e=0;for(b=d.length;e<b;++e)d[e].Qm();d=this.fc;e=0;for(b=d.length;e<b;++e)d[e].type===a&&d[e].Qm();a.lg=!1}};c.prototype.jp=function(a,e,b){var d,k,g;if(a.q)for(d=0,k=a.Nf.length;d<k;++d)g=a.Nf[d],g.mg?xa(b,g.d):(this.Om(g),g.og.lh(e,
b));else a.mg?xa(b,a.d):(this.Om(a),a.og.lh(e,b))};c.prototype.Nk=function(a,e,b){var d,k;d=0;for(k=a.length;d<k;++d)this.jp(a[d],e,b)};c.prototype.wp=function(a,e){var b=this.Bj;b&&this.Nk(b.aj,a,e)};new sa;new P(0,0,0,0);c.prototype.Km=function(a,e){if(!e)return!1;var b,d,k,g,f;b=0;for(d=a.ca.length;b<d;b++)if(a.ca[b].behavior instanceof e)return!0;if(!a.q)for(b=0,d=a.X.length;b<d;b++)for(f=a.X[b],k=0,g=f.ca.length;k<g;k++)if(f.ca[k].behavior instanceof e)return!0;return!1};c.prototype.Kj=function(a){return this.Km(a,
Ub.Kr)};c.prototype.Lj=function(a){return this.Km(a,Ub.Lr)};var D=-1;c.prototype.trigger=function(a,e,b){if(!this.N)return!1;var d=this.N.Qd;if(!d)return!1;var k=!1,g,f,l;D++;var c=d.di;f=0;for(l=c.length;f<l;++f)g=this.Hm(a,e,c[f],b),k=k||g;g=this.Hm(a,e,d,b);D--;return k||g};c.prototype.Hm=function(a,e,b,d){var k=!1,g,f,l,c;if(e)for(l=this.Ij(a,e,e.type.name,b,d),k=k||l,c=e.type.X,g=0,f=c.length;g<f;++g)l=this.Ij(a,e,c[g].name,b,d),k=k||l;else l=this.Ij(a,e,"system",b,d),k=k||l;return k};c.prototype.Ij=
function(a,e,b,d,k){var g,f=!1,l=!1,l="undefined"!==typeof k,c=(l?d.Bk:d.Im)[b];if(!c)return f;var h=null;d=0;for(g=c.length;d<g;++d)if(c[d].method==a){h=c[d].kf;break}if(!h)return f;var t;l?t=h[k]:t=h;if(!t)return null;d=0;for(g=t.length;d<g;d++)a=t[d][0],k=t[d][1],l=this.$o(e,b,a,k),f=f||l;return f};c.prototype.$o=function(a,e,b,d){var k,g,f=!1;this.Jj++;var l=this.pb().gc;l&&this.Xf(l.Dd);var c=1<this.Jj;this.Xf(b.Dd);c&&this.Cq();var h=this.oj(b);h.gc=b;a&&(k=this.types[e].V(),k.na=!1,R(k.d),
k.d[0]=a,this.types[e].Hd());a=!0;if(b.parent){e=h.zm;for(k=b.parent;k;)e.push(k),k=k.parent;e.reverse();k=0;for(g=e.length;k<g;k++)if(!e[k].Iq()){a=!1;break}}a&&(this.wg++,b.zc?b.Hq(d):b.ya(),f=f||h.Zd);this.Yl();c&&this.uq();this.Le(b.Dd);l&&this.Le(l.Dd);this.qd&&0===this.Qc&&0===D&&!this.Mi&&this.Ma();this.Jj--;return f};c.prototype.kp=function(){var a=this.pb();return a.gc.Oa[a.lb]};c.prototype.Cq=function(){this.$g++;this.$g>=this.$i.length&&this.$i.push([])};c.prototype.uq=function(){this.$g--};
c.prototype.Ik=function(){return this.$i[this.$g]};c.prototype.oj=function(a){this.vg++;this.vg>=this.gi.length&&this.gi.push(new Hb);var e=this.pb();e.reset(a);return e};c.prototype.Yl=function(){this.vg--};c.prototype.pb=function(){return this.gi[this.vg]};c.prototype.Jk=function(a,e){for(var b,d,k,g,f,l;e;){b=0;for(d=e.Vb.length;b<d;b++)if(l=e.Vb[b],l instanceof Ib&&db(a,l.name))return l;e=e.parent}b=0;for(d=this.Lc.length;b<d;b++)for(f=this.Lc[b],k=0,g=f.od.length;k<g;k++)if(l=f.od[k],l instanceof
Ib&&db(a,l.name))return l;return null};c.prototype.Kk=function(a){var e,b;e=0;for(b=this.kc.length;e<b;e++)if(this.kc[e].G===a)return this.kc[e];return null};c.prototype.Fg=function(a){var e,b;e=0;for(b=this.j.length;e<b;e++)if(this.j[e].G===a)return this.j[e];return null};c.prototype.mp=function(a){var e,b;e=0;for(b=this.re.length;e<b;e++)if(this.re[e].G===a)return this.re[e];return null};c.prototype.Wn=function(a,e){this.bg=[a,e];this.M=!0};c.prototype.Mp=function(){var a=this,e=this.zj,b=this.Rc,
d=this.Vg,k=!1;this.vm&&(k=!0,e="__c2_continuouspreview",this.vm=!1);if(e.length){this.Ma();b=this.Mq();if(n()&&!this.Mb)r(e,b,function(){z("Saved state to IndexedDB storage ("+b.length+" bytes)");a.Rc=b;a.trigger(Y.prototype.H.Hh,null);a.Rc="";k&&h()},function(d){try{localStorage.setItem("__c2save_"+e,b),z("Saved state to WebStorage ("+b.length+" bytes)"),a.Rc=b,a.trigger(Y.prototype.H.Hh,null),a.Rc="",k&&h()}catch(g){z("Failed to save game state: "+d+"; "+g)}});else try{localStorage.setItem("__c2save_"+
e,b),z("Saved state to WebStorage ("+b.length+" bytes)"),a.Rc=b,this.trigger(Y.prototype.H.Hh,null),a.Rc="",k&&h()}catch(g){z("Error saving to WebStorage: "+g)}this.Ra=this.Vg=this.zj=""}if(d.length){if(n()&&!this.Mb)q(d,function(e){e?(a.Ra=e,z("Loaded state from IndexedDB storage ("+a.Ra.length+" bytes)")):(a.Ra=localStorage.getItem("__c2save_"+d)||"",z("Loaded state from WebStorage ("+a.Ra.length+" bytes)"));a.dg=!1;a.Ra.length||a.trigger(Y.prototype.H.Gh,null)},function(){a.Ra=localStorage.getItem("__c2save_"+
d)||"";z("Loaded state from WebStorage ("+a.Ra.length+" bytes)");a.dg=!1;a.Ra.length||a.trigger(Y.prototype.H.Gh,null)});else{try{this.Ra=localStorage.getItem("__c2save_"+d)||"",z("Loaded state from WebStorage ("+this.Ra.length+" bytes)")}catch(f){this.Ra=""}this.dg=!1;a.Ra.length||a.trigger(Y.prototype.H.Gh,null)}this.zj=this.Vg=""}this.Ra.length&&(this.Ma(),this.$p(this.Ra),this.Rc=this.Ra,this.trigger(Y.prototype.H.un,null),this.Ra=this.Rc="")};c.prototype.Mq=function(){var a,e,d,k,g,f,l,c={c2save:!0,
version:1,rt:{time:this.Ob.ga,walltime:this.Eh.ga,timescale:this.fg,tickcount:this.Yc,execcount:this.wg,next_uid:this.Pf,running_layout:this.N.G,start_time_offset:Date.now()-this.uh},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(e=this.j.length;a<e;a++)if(g=this.j[a],!g.q&&!this.Kj(g)){f={instances:[]};Pa(g.Q)&&(f.ex=b(g.Q));d=0;for(k=g.d.length;d<k;d++)f.instances.push(this.yj(g.d[d]));c.types[g.G.toString()]=f}a=0;for(e=this.kc.length;a<e;a++)d=this.kc[a],c.layouts[d.G.toString()]=
d.tb();k=c.events.groups;a=0;for(e=this.re.length;a<e;a++)d=this.re[a],k[d.G.toString()]=this.Gg[d.pf].of;e=c.events.cnds;for(l in this.jd)this.jd.hasOwnProperty(l)&&(a=this.jd[l],Pa(a.Q)&&(e[l]={ex:b(a.Q)}));e=c.events.acts;for(l in this.dd)this.dd.hasOwnProperty(l)&&(a=this.dd[l],Pa(a.Q)&&(e[l]={ex:b(a.Q)}));e=c.events.vars;for(l in this.Ue)this.Ue.hasOwnProperty(l)&&(a=this.Ue[l],a.Ng||a.parent&&!a.zf||(e[l]=a.data));c.system=this.Ec.tb();return JSON.stringify(c)};c.prototype.dm=function(){var a,
e,b,d,k,g;this.Uc={};a=0;for(e=this.j.length;a<e;a++)if(b=this.j[a],!b.q)for(d=0,k=b.d.length;d<k;d++)g=b.d[d],this.Uc[g.uid.toString()]=g};c.prototype.$p=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){this.wf=!0;var e=a.rt;this.Ob.reset();this.Ob.ga=e.time;this.Eh.reset();this.Eh.ga=e.walltime||0;this.fg=e.timescale;this.Yc=e.tickcount;this.wg=e.execcount;this.uh=Date.now()-e.start_time_offset;var b=e.running_layout;if(b!==this.N.G)if(b=this.Kk(b))this.vk(b);else return;var d,k,g,f,l,c,
h;c=a.types;for(k in c)if(c.hasOwnProperty(k)&&(f=this.Fg(parseInt(k,10)))&&!f.q&&!this.Kj(f)){c[k].ex?f.Q=c[k].ex:Qa(f.Q);l=f.d;g=c[k].instances;b=0;for(d=na(l.length,g.length);b<d;b++)this.Wg(l[b],g[b]);b=g.length;for(d=l.length;b<d;b++)this.ne(l[b]);b=l.length;for(d=g.length;b<d;b++){l=null;if(f.ma.ud&&(l=this.N.Eg(g[b].w.l),!l))continue;l=this.Ld(f.uc,l,!1,0,0,!0);this.Wg(l,g[b])}f.Qe=!0}this.Ma();this.dm();d=a.layouts;for(k in d)d.hasOwnProperty(k)&&(b=this.Kk(parseInt(k,10)))&&b.Pb(d[k]);d=
a.events.groups;for(k in d)d.hasOwnProperty(k)&&(b=this.mp(parseInt(k,10)))&&this.Gg[b.pf]&&this.Gg[b.pf].Nq(d[k]);b=a.events.cnds;for(k in this.jd)this.jd.hasOwnProperty(k)&&(b.hasOwnProperty(k)?this.jd[k].Q=b[k].ex:this.jd[k].Q={});b=a.events.acts;for(k in this.dd)this.dd.hasOwnProperty(k)&&(b.hasOwnProperty(k)?this.dd[k].Q=b[k].ex:this.dd[k].Q={});b=a.events.vars;for(k in b)b.hasOwnProperty(k)&&this.Ue.hasOwnProperty(k)&&(this.Ue[k].data=b[k]);this.Pf=e.next_uid;this.wf=!1;b=0;for(d=this.yg.length;b<
d;++b)l=this.yg[b],this.trigger(Object.getPrototypeOf(l.type.ma).H.Uj,l);R(this.yg);this.Ec.Pb(a.system);b=0;for(d=this.j.length;b<d;b++)if(f=this.j[b],!f.q&&!this.Kj(f))for(k=0,a=f.d.length;k<a;k++){l=f.d[k];if(f.Nb)for(c=l.nf(),R(l.siblings),e=0,g=f.mb.length;e<g;e++)h=f.mb[e],f!==h&&l.siblings.push(h.d[c]);l.ed&&l.ed();if(l.r)for(e=0,g=l.r.length;e<g;e++)c=l.r[e],c.ed&&c.ed()}this.M=!0}};c.prototype.yj=function(a,e){var d,k,g,f,l;f=a.type;g=f.ma;var c={};e?c.c2=!0:c.uid=a.uid;Pa(a.Q)&&(c.ex=b(a.Q));
if(a.ra&&a.ra.length)for(c.ivs={},d=0,k=a.ra.length;d<k;d++)c.ivs[a.type.Gi[d].toString()]=a.ra[d];if(g.ud){g={x:a.x,y:a.y,w:a.width,h:a.height,l:a.e.G,zi:a.Lb()};0!==a.i&&(g.a=a.i);1!==a.opacity&&(g.o=a.opacity);.5!==a.fb&&(g.hX=a.fb);.5!==a.gb&&(g.hY=a.gb);0!==a.Na&&(g.bm=a.Na);a.visible||(g.v=a.visible);a.se||(g.ce=a.se);-1!==a.Of&&(g.mts=a.Of);if(f.u.length)for(g.fx=[],d=0,k=f.u.length;d<k;d++)l=f.u[d],g.fx.push({name:l.name,active:a.cd[l.index],params:a.da[l.index]});c.w=g}if(a.r&&a.r.length)for(c.behs=
{},d=0,k=a.r.length;d<k;d++)f=a.r[d],f.tb&&(c.behs[f.type.G.toString()]=f.tb());a.tb&&(c.data=a.tb());return c};c.prototype.op=function(a,e){var b,d;b=0;for(d=a.Gi.length;b<d;b++)if(a.Gi[b]===e)return b;return-1};c.prototype.ip=function(a,e){var b,d;b=0;for(d=a.r.length;b<d;b++)if(a.r[b].type.G===e)return b;return-1};c.prototype.Wg=function(a,e,b){var d,k,g,f,l;l=a.type;f=l.ma;if(b){if(!e.c2)return}else a.uid=e.uid;e.ex?a.Q=e.ex:Qa(a.Q);if(k=e.ivs)for(d in k)k.hasOwnProperty(d)&&(g=this.op(l,parseInt(d,
10)),0>g||g>=a.ra.length||(a.ra[g]=k[d]));if(f.ud){g=e.w;a.e.G!==g.l&&(k=a.e,a.e=this.N.Eg(g.l),a.e?(k.Me(a,!0),a.e.Ye(a,!0),a.Z(),a.e.Zf(0)):(a.e=k,b||this.ne(a)));a.x=g.x;a.y=g.y;a.width=g.w;a.height=g.h;a.rc=g.zi;a.i=g.hasOwnProperty("a")?g.a:0;a.opacity=g.hasOwnProperty("o")?g.o:1;a.fb=g.hasOwnProperty("hX")?g.hX:.5;a.gb=g.hasOwnProperty("hY")?g.hY:.5;a.visible=g.hasOwnProperty("v")?g.v:!0;a.se=g.hasOwnProperty("ce")?g.ce:!0;a.Of=g.hasOwnProperty("mts")?g.mts:-1;a.Na=g.hasOwnProperty("bm")?g.bm:
0;a.bf=ab(a.Na);this.k&&bb(a,a.Na,this.k);a.Z();if(g.hasOwnProperty("fx"))for(b=0,k=g.fx.length;b<k;b++)f=l.si(g.fx[b].name),0>f||(a.cd[f]=g.fx[b].active,a.da[f]=g.fx[b].params);a.qc()}if(l=e.behs)for(d in l)l.hasOwnProperty(d)&&(b=this.ip(a,parseInt(d,10)),0>b||a.r[b].Pb(l[d]));e.data&&a.Pb(e.data)};c.prototype.Ck=function(a,e,b){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(e,b)},b)};c.prototype.cp=function(a,e){this.Ck("data.js",function(b){var d=
new FileReader;d.onload=function(e){a(e.target.result)};d.onerror=e;d.readAsText(b)},e)};c.prototype.bp=function(a,e,b){this.Ck(a,function(a){var b=new FileReader;b.onload=function(a){e(a.target.result)};b.readAsArrayBuffer(a)},b)};c.prototype.dp=function(a,e,b){this.bp(a,function(a){a=URL.createObjectURL(new Blob([a]));e(a)},b)};c.prototype.om=function(a,e){this.Ni?this.dp(e,function(e){a.src=e},function(a){alert("Failed to load image: "+a)}):a.src=e};Jb=function(a){return new c(document.getElementById(a))};
Kb=function(a,e){return new c({dc:!0,width:a,height:e})};window.cr_createRuntime=Jb;window.cr_createDCRuntime=Kb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.dk=!0;document.body.appendChild(a);a=new c(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);
return a};window.createEjectaRuntime=function(){var a=new c(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var c=document.getElementById("c2canvas");return c?c.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(c,m){var n=window.cr_getC2Runtime();n&&n.Wn(c,m)};
window.cr_sizeCanvas=function(c,m){if(0!==c&&0!==m){var n=window.cr_getC2Runtime();n&&n.setSize(c,m)}};window.cr_setSuspended=function(c){var m=window.cr_getC2Runtime();m&&m.setSuspended(c)};
(function(){function c(a,e){this.b=a;this.Qd=null;this.scrollX=this.b.xa/2;this.scrollY=this.b.wa/2;this.scale=1;this.i=0;this.xe=!0;this.name=e[0];this.width=e[1];this.height=e[2];this.Lm=e[3];this.tm=e[4];this.G=e[5];var b=e[6],d,f;this.B=[];this.uf=[];d=0;for(f=b.length;d<f;d++){var c=new Lb(this,b[d]);c.Kl=d;this.B.push(c)}b=e[7];this.Vd=[];d=0;for(f=b.length;d<f;d++){var c=b[d],h=this.b.j[c[1]];h.uc||(h.uc=c);this.Vd.push(c);-1===this.uf.indexOf(h)&&this.uf.push(h)}this.u=[];this.J=[];this.Vc=
!0;this.da=[];d=0;for(f=e[8].length;d<f;d++)this.u.push({id:e[8][d][0],name:e[8][d][1],oa:-1,mc:!1,zb:!0,index:d}),this.da.push(e[8][d][2].slice(0));this.qc();this.Bd=new P(0,0,1,1);this.rj=new P(0,0,1,1);this.Ad={}}function m(a,e){return a.rc-e.rc}function n(a,e){this.Da=a;this.b=a.b;this.d=[];this.scale=1;this.i=0;this.Kc=!1;this.Zc=new P(0,0,0,0);this.Gm=new sa;this.aa=this.S=this.ba=this.R=0;this.me=!1;this.ad=-1;this.Zh=0;this.name=e[0];this.index=e[1];this.G=e[2];this.visible=e[3];this.ac=e[4];
this.pc=e[5];this.Je=e[6];this.Ke=e[7];this.opacity=e[8];this.Bg=e[9];this.Hb=e[10];this.Tj=e[11];this.Na=e[12];this.uo=e[13];this.bf="source-over";this.Pa=this.Sa=0;this.Ja=null;this.Sc=p();this.oc=!0;this.De=new P(0,0,-1,-1);this.Ga=new P(0,0,-1,-1);this.Hb&&(this.Ja=new $a(this.b.xa,this.b.wa));this.Cc=!1;var b=e[14],d,f;this.ym=[];this.Eb=[];this.ef=[];d=0;for(f=b.length;d<f;d++){var c=b[d],h=this.b.j[c[1]];h.uc||(h.uc=c,h.Un=this.index);this.Eb.push(c);-1===this.Da.uf.indexOf(h)&&this.Da.uf.push(h)}wa(this.ym,
this.Eb);this.u=[];this.J=[];this.Vc=!0;this.da=[];d=0;for(f=e[15].length;d<f;d++)this.u.push({id:e[15][d][0],name:e[15][d][1],oa:-1,mc:!1,zb:!0,index:d}),this.da.push(e[15][d][2].slice(0));this.qc();this.Bd=new P(0,0,1,1);this.rj=new P(0,0,1,1)}function p(){return b.length?b.pop():[]}function r(a){R(a);b.push(a)}c.prototype.Lq=function(a){var e=a.type.G.toString();this.Ad.hasOwnProperty(e)||(this.Ad[e]=[]);this.Ad[e].push(this.b.yj(a))};c.prototype.Pk=function(){var a=this.B[0];return!a.pc&&1===
a.opacity&&!a.Bg&&a.visible};c.prototype.qc=function(){R(this.J);this.Vc=!0;var a,e,b;a=0;for(e=this.u.length;a<e;a++)b=this.u[a],b.zb&&(this.J.push(b),b.mc||(this.Vc=!1))};c.prototype.ri=function(a){var e,b,d;e=0;for(b=this.u.length;e<b;e++)if(d=this.u[e],d.name===a)return d;return null};var q=[],h=!0;c.prototype.Cj=function(){this.tm&&(this.Qd=this.b.hi[this.tm],this.Qd.Nj());this.b.N=this;this.scrollX=this.b.xa/2;this.scrollY=this.b.wa/2;var a,e,b,d,f,c,n;a=0;for(b=this.b.j.length;a<b;a++)if(e=
this.b.j[a],!e.q)for(f=e.d,e=0,d=f.length;e<d;e++)if(c=f[e],c.e){var l=c.e.Kl;l>=this.B.length&&(l=this.B.length-1);c.e=this.B[l];-1===c.e.d.indexOf(c)&&c.e.d.push(c);c.e.me=!0}if(!h)for(a=0,b=this.B.length;a<b;++a)this.B[a].d.sort(m);R(q);this.Mn();a=0;for(b=this.B.length;a<b;a++)c=this.B[a],c.Tn(),c.Bh();f=!1;if(!this.xe){for(n in this.Ad)if(this.Ad.hasOwnProperty(n)&&(e=this.b.Fg(parseInt(n,10)))&&!e.q&&this.b.Lj(e)){d=this.Ad[n];a=0;for(b=d.length;a<b;a++){c=null;if(e.ma.ud&&(c=this.Eg(d[a].w.l),
!c))continue;c=this.b.Ld(e.uc,c,!1,0,0,!0);this.b.Wg(c,d[a]);f=!0;q.push(c)}R(d)}a=0;for(b=this.B.length;a<b;a++)this.B[a].d.sort(m),this.B[a].me=!0}f&&(this.b.Ma(),this.b.dm());for(a=0;a<q.length;a++)if(c=q[a],c.type.Nb)for(b=c.nf(),e=0,d=c.type.mb.length;e<d;e++)n=c.type.mb[e],c.type!==n&&(n.d.length>b?c.siblings.push(n.d[b]):n.uc&&(f=this.b.Ld(n.uc,c.e,!0,c.x,c.y,!0),this.b.Ma(),n.Ah(),c.siblings.push(f),q.push(f)));a=0;for(b=this.Vd.length;a<b;a++)this.b.Ld(this.Vd[a],null,!0);this.b.Xh=null;
this.b.Ma();if(this.b.L&&!this.b.Ta)for(a=0,b=this.b.j.length;a<b;a++)n=this.b.j[a],!n.q&&n.d.length&&n.kj&&n.kj(this.b.L);if(this.b.wf)wa(this.b.yg,q);else for(a=0,b=q.length;a<b;a++)c=q[a],this.b.trigger(Object.getPrototypeOf(c.type.ma).H.Uj,c);R(q);this.b.wf||this.b.trigger(Y.prototype.H.Vj,null);this.xe=!1};c.prototype.Sn=function(){var a,e,b,d,f;e=a=0;for(b=this.Vd.length;a<b;a++)d=this.Vd[a],f=this.b.j[d[1]],f.global?f.Nb||this.b.Ld(d,null,!0):(this.Vd[e]=d,e++);va(this.Vd,e)};c.prototype.Tq=
function(){this.b.wf||this.b.trigger(Y.prototype.H.tn,null);this.b.Ji=!0;R(this.b.Ec.yb);var a,e,b,d,f,c;if(!this.xe)for(a=0,e=this.B.length;a<e;a++)for(this.B[a].Pj(),f=this.B[a].d,b=0,d=f.length;b<d;b++)c=f[b],c.type.global||this.b.Lj(c.type)&&this.Lq(c);a=0;for(e=this.B.length;a<e;a++){f=this.B[a].d;b=0;for(d=f.length;b<d;b++)c=f[b],c.type.global||this.b.ne(c);this.b.Ma();R(f);this.B[a].me=!0}a=0;for(e=this.b.j.length;a<e;a++)if(f=this.b.j[a],!(f.global||f.ma.ud||f.ma.sh||f.q)){b=0;for(d=f.d.length;b<
d;b++)this.b.ne(f.d[b]);this.b.Ma()}h=!1;this.b.Ji=!1};new P(0,0,0,0);c.prototype.vc=function(a){var e,b=a,d=!1,f=!this.b.Db;f&&(this.b.Ug||(this.b.Ug=document.createElement("canvas"),e=this.b.Ug,e.width=this.b.p,e.height=this.b.n,this.b.ml=e.getContext("2d"),d=!0),e=this.b.Ug,b=this.b.ml,e.width!==this.b.p&&(e.width=this.b.p,d=!0),e.height!==this.b.n&&(e.height=this.b.n,d=!0),d&&(b.webkitImageSmoothingEnabled=this.b.F,b.mozImageSmoothingEnabled=this.b.F,b.msImageSmoothingEnabled=this.b.F,b.imageSmoothingEnabled=
this.b.F));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.b.Ih&&!this.Pk()&&b.clearRect(0,0,this.b.p,this.b.n);var c,h,d=0;for(c=this.B.length;d<c;d++)h=this.B[d],h.visible&&0<h.opacity&&11!==h.Na&&(h.d.length||!h.pc)?h.vc(b):h.Bh();f&&a.drawImage(e,0,0,this.b.width,this.b.height)};c.prototype.Od=function(a){a.nm(!0);this.b.la||(this.b.la=a.Cb(this.b.p,this.b.n,this.b.F));if(this.b.la.Kd!==this.b.p||this.b.la.Jd!==this.b.n)a.deleteTexture(this.b.la),this.b.la=a.Cb(this.b.p,this.b.n,
this.b.F);a.Ub(this.b.la);this.b.Db||a.je(this.b.p,this.b.n);var e,b;for(e=this.B.length-1;0<=e;--e)b=this.B[e],b.visible&&1===b.opacity&&b.Vc&&0===b.Na&&(b.d.length||!b.pc)?b.Od(a):b.Bh();a.nm(!1)};c.prototype.nb=function(a){var e=0<this.J.length||this.b.Se||!this.b.Db||this.b.P;if(e){this.b.la||(this.b.la=a.Cb(this.b.p,this.b.n,this.b.F));if(this.b.la.Kd!==this.b.p||this.b.la.Jd!==this.b.n)a.deleteTexture(this.b.la),this.b.la=a.Cb(this.b.p,this.b.n,this.b.F);a.Ub(this.b.la);this.b.Db||a.je(this.b.p,
this.b.n)}else this.b.la&&(a.Ub(null),a.deleteTexture(this.b.la),this.b.la=null);this.b.Ih&&!this.Pk()&&a.clear(0,0,0,0);var b,d,f;b=0;for(d=this.B.length;b<d;b++)f=this.B[b],f.visible&&0<f.opacity&&(f.d.length||!f.pc)?f.nb(a):f.Bh();e&&(0===this.J.length||1===this.J.length&&this.b.Db?(1===this.J.length?(e=this.J[0].index,a.ib(this.J[0].oa),a.Oe(null,1/this.b.p,1/this.b.n,0,0,1,1,this.scale,this.i,0,0,this.b.p/2,this.b.n/2,this.b.Ob.ga,this.da[e]),a.kh(this.J[0].oa)&&(this.b.M=!0)):a.ib(0),this.b.Db||
a.je(this.b.width,this.b.height),a.Ub(null),a.mm(!1),a.ie(1),a.ub(this.b.la),a.km(),a.Tb(),a.Gb(),e=this.b.width/2,b=this.b.height/2,a.Yf(-e,b,e,b,e,-b,-e,-b),a.ub(null),a.mm(!0)):this.sj(a,null,null,null))};c.prototype.mf=function(){return 0<this.J.length||this.b.Se||!this.b.Db||this.b.P?this.b.la:null};c.prototype.Lk=function(){var a=this.B[0].qb(),e,b,d;e=1;for(b=this.B.length;e<b;e++)d=this.B[e],(0!==d.Je||0!==d.Ke)&&d.qb()<a&&(a=d.qb());return a};c.prototype.im=function(a){if(!this.Lm){var e=
1/this.Lk()*this.b.p/2;a>this.width-e&&(a=this.width-e);a<e&&(a=e)}this.scrollX!==a&&(this.scrollX=a,this.b.M=!0)};c.prototype.jm=function(a){if(!this.Lm){var e=1/this.Lk()*this.b.n/2;a>this.height-e&&(a=this.height-e);a<e&&(a=e)}this.scrollY!==a&&(this.scrollY=a,this.b.M=!0)};c.prototype.Mn=function(){this.im(this.scrollX);this.jm(this.scrollY)};c.prototype.sj=function(a,e,b,d){var f=b?b.J:e?e.J:this.J,c=1,h=0,l=0,u=0,m=this.b.p,q=this.b.n;b?(c=b.e.qb(),h=b.e.ob(),l=b.e.R,u=b.e.S,m=b.e.ba,q=b.e.aa):
e&&(c=e.qb(),h=e.ob(),l=e.R,u=e.S,m=e.ba,q=e.aa);var n=this.b.oi,p,r,y,A,D=0,v=1,ja,Q=this.b.p,N=this.b.n,Ca=Q/2,Da=N/2,V=e?e.Bd:this.Bd,F=e?e.rj:this.rj,G=0,S=0,I=0,B=0,J=Q,ka=Q,K=N,la=N,ea=y=0;A=b?b.e.ob():0;if(b){p=0;for(r=f.length;p<r;p++)y+=a.tp(f[p].oa),ea+=a.up(f[p].oa);B=b.pa;G=e.ta(B.left,B.top,!0);I=e.ta(B.left,B.top,!1);J=e.ta(B.right,B.bottom,!0);K=e.ta(B.right,B.bottom,!1);0!==A&&(p=e.ta(B.right,B.top,!0),r=e.ta(B.right,B.top,!1),S=e.ta(B.left,B.bottom,!0),B=e.ta(B.left,B.bottom,!1),
A=Math.min(G,J,p,S),J=Math.max(G,J,p,S),G=A,A=Math.min(I,K,r,B),K=Math.max(I,K,r,B),I=A);G-=y;I-=ea;J+=y;K+=ea;F.left=G/Q;F.top=1-I/N;F.right=J/Q;F.bottom=1-K/N;S=G=M(G);B=I=M(I);ka=J=pa(J);la=K=pa(K);S-=y;B-=ea;ka+=y;la+=ea;0>G&&(G=0);0>I&&(I=0);J>Q&&(J=Q);K>N&&(K=N);0>S&&(S=0);0>B&&(B=0);ka>Q&&(ka=Q);la>N&&(la=N);V.left=G/Q;V.top=1-I/N;V.right=J/Q;V.bottom=1-K/N}else V.left=F.left=0,V.top=F.top=0,V.right=F.right=1,V.bottom=F.bottom=1;ea=b&&(a.Uf(f[0].oa)||0!==y||0!==ea||1!==b.opacity||b.type.ma.Hl)||
e&&!b&&1!==e.opacity;a.km();if(ea){n[D]||(n[D]=a.Cb(Q,N,this.b.F));if(n[D].Kd!==Q||n[D].Jd!==N)a.deleteTexture(n[D]),n[D]=a.Cb(Q,N,this.b.F);a.ib(0);a.Ub(n[D]);ja=la-B;a.clearRect(S,N-B-ja,ka-S,ja);b?b.nb(a):(a.ub(this.b.ua),a.ie(e.opacity),a.Tb(),a.translate(-Ca,-Da),a.Gb(),a.Bc(G,K,J,K,J,I,G,I,V));F.left=F.top=0;F.right=F.bottom=1;b&&(A=V.top,V.top=V.bottom,V.bottom=A);D=1;v=0}a.ie(1);y=f.length-1;var Sa=a.mj(f[y].oa)||!e&&!b&&!this.b.Db,ra=0;p=0;for(r=f.length;p<r;p++){n[D]||(n[D]=a.Cb(Q,N,this.b.F));
if(n[D].Kd!==Q||n[D].Jd!==N)a.deleteTexture(n[D]),n[D]=a.Cb(Q,N,this.b.F);a.ib(f[p].oa);ra=f[p].index;a.kh(f[p].oa)&&(this.b.M=!0);0!=p||ea?(a.Oe(d,1/Q,1/N,F.left,F.top,F.right,F.bottom,c,h,l,u,(l+m)/2,(u+q)/2,this.b.Ob.ga,b?b.da[ra]:e?e.da[ra]:this.da[ra]),a.ub(null),p!==y||Sa?(a.Ub(n[D]),ja=la-B,A=N-B-ja,a.clearRect(S,A,ka-S,ja)):(b?a.Cd(b.Sa,b.Pa):e&&a.Cd(e.Sa,e.Pa),a.Ub(d)),a.ub(n[v]),a.Tb(),a.translate(-Ca,-Da),a.Gb(),a.Bc(G,K,J,K,J,I,G,I,V),p!==y||Sa||a.ub(null)):(a.Ub(n[D]),ja=la-B,A=N-B-ja,
a.clearRect(S,A,ka-S,ja),b?(a.Oe(d,1/b.width,1/b.height,F.left,F.top,F.right,F.bottom,c,h,l,u,(l+m)/2,(u+q)/2,this.b.Ob.ga,b.da[ra]),b.nb(a)):(a.Oe(d,1/Q,1/N,0,0,1,1,c,h,l,u,(l+m)/2,(u+q)/2,this.b.Ob.ga,e?e.da[ra]:this.da[ra]),a.ub(e?this.b.ua:this.b.la),a.Tb(),a.translate(-Ca,-Da),a.Gb(),a.Bc(G,K,J,K,J,I,G,I,V)),F.left=F.top=0,F.right=F.bottom=1,b&&!Sa&&(A=K,K=I,I=A));D=0===D?1:0;v=0===D?1:0}Sa&&(a.ib(0),b?a.Cd(b.Sa,b.Pa):e?a.Cd(e.Sa,e.Pa):this.b.Db||(a.je(this.b.width,this.b.height),Ca=this.b.width/
2,Da=this.b.height/2,I=G=0,J=this.b.width,K=this.b.height),a.Ub(d),a.ub(n[v]),a.Tb(),a.translate(-Ca,-Da),a.Gb(),b&&1===f.length&&!ea?a.Bc(G,I,J,I,J,K,G,K,V):a.Bc(G,K,J,K,J,I,G,I,V),a.ub(null))};c.prototype.Eg=function(a){var b,d;b=0;for(d=this.B.length;b<d;b++)if(this.B[b].G===a)return this.B[b];return null};c.prototype.tb=function(){var a,b,d,f={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.i,w:this.width,h:this.height,fv:this.xe,persist:this.Ad,fx:[],layers:{}};a=0;for(b=this.u.length;a<
b;a++)d=this.u[a],f.fx.push({name:d.name,active:d.zb,params:this.da[d.index]});a=0;for(b=this.B.length;a<b;a++)d=this.B[a],f.layers[d.G.toString()]=d.tb();return f};c.prototype.Pb=function(a){var b,d,f,c;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.i=a.a;this.width=a.w;this.height=a.h;this.Ad=a.persist;"undefined"!==typeof a.fv&&(this.xe=a.fv);var h=a.fx;b=0;for(d=h.length;b<d;b++)if(f=this.ri(h[b].name))f.zb=h[b].active,this.da[f.index]=h[b].params;this.qc();b=a.layers;for(c in b)b.hasOwnProperty(c)&&
(a=this.Eg(parseInt(c,10)))&&a.Pb(b[c])};xb=c;n.prototype.qc=function(){R(this.J);this.Vc=!0;var a,b,d;a=0;for(b=this.u.length;a<b;a++)d=this.u[a],d.zb&&(this.J.push(d),d.mc||(this.Vc=!1))};n.prototype.ri=function(a){var b,d,f;b=0;for(d=this.u.length;b<d;b++)if(f=this.u[b],f.name===a)return f;return null};n.prototype.Tn=function(){var a,b,d,f,c,h;b=a=0;for(d=this.Eb.length;a<d;a++){f=this.Eb[a];c=this.b.j[f[1]];h=this.b.Lj(c);c=!0;if(!h||this.Da.xe){f=this.b.Ld(f,this,!0);if(!f)continue;q.push(f);
f.type.global&&(c=!1,this.ef.push(f.uid))}c&&(this.Eb[b]=this.Eb[a],b++)}this.Eb.length=b;this.b.Ma();!this.b.g&&this.u.length&&(this.Na=this.uo);this.bf=ab(this.Na);this.b.k&&bb(this,this.Na,this.b.k);this.oc=!0};n.prototype.Me=function(a,b){var d=za(this.d,a);0>d||(b&&this.Hb&&a.hb&&a.hb.right>=a.hb.left&&(a.za(),this.Ja.update(a,a.hb,null),a.hb.set(0,0,-1,-1)),d===this.d.length-1?this.d.pop():(ua(this.d,d),this.Zf(d)),this.oc=!0)};n.prototype.Ye=function(a,b){a.rc=this.d.length;this.d.push(a);
b&&this.Hb&&a.hb&&a.Z();this.oc=!0};n.prototype.zq=function(a){this.d.unshift(a);this.Zf(0)};n.prototype.dq=function(a,b,d){var f=a.Lb();b=b.Lb();ua(this.d,f);f<b&&b--;d&&b++;b===this.d.length?this.d.push(a):this.d.splice(b,0,a);this.Zf(f<b?f:b)};n.prototype.Zf=function(a){-1===this.ad?this.ad=a:a<this.ad&&(this.ad=a);this.oc=this.me=!0};n.prototype.Pj=function(){if(this.me){-1===this.ad&&(this.ad=0);var a,b,d;if(this.Hb)for(a=this.ad,b=this.d.length;a<b;++a)d=this.d[a],d.rc=a,this.Ja.bq(d.hb);else for(a=
this.ad,b=this.d.length;a<b;++a)this.d[a].rc=a;this.me=!1;this.ad=-1}};n.prototype.qb=function(a){return this.rp()*(this.b.Db||a?this.b.Ze:1)};n.prototype.rp=function(){return(this.scale*this.Da.scale-1)*this.Tj+1};n.prototype.ob=function(){return this.Kc?0:Ga(this.Da.i+this.i)};var b=[],d=[],f=[];n.prototype.wi=function(){this.Pj();this.Ja.lh(this.R,this.S,this.ba,this.aa,f);if(!f.length)return p();if(1===f.length){var a=p();wa(a,f[0]);R(f);return a}for(var b=!0;1<f.length;){for(var a=f,c=void 0,
k=void 0,h=void 0,m=void 0,q=void 0,c=0,k=a.length;c<k-1;c+=2){var h=a[c],m=a[c+1],q=p(),l=h,u=m,n=q,E=0,C=0,x=0,H=l.length,y=u.length,A=void 0,D=void 0;for(n.length=H+y;E<H&&C<y;++x)A=l[E],D=u[C],A.rc<D.rc?(n[x]=A,++E):(n[x]=D,++C);for(;E<H;++E,++x)n[x]=l[E];for(;C<y;++C,++x)n[x]=u[C];b||(r(h),r(m));d.push(q)}1===k%2&&(b?(h=p(),wa(h,a[k-1]),d.push(h)):d.push(a[k-1]));wa(a,d);R(d);b=!1}a=f[0];R(f);return a};n.prototype.vc=function(a){this.Cc=this.Bg||1!==this.opacity||0!==this.Na;var b=this.b.canvas,
d=a,f=!1;this.Cc&&(this.b.Tg||(this.b.Tg=document.createElement("canvas"),b=this.b.Tg,b.width=this.b.p,b.height=this.b.n,this.b.ll=b.getContext("2d"),f=!0),b=this.b.Tg,d=this.b.ll,b.width!==this.b.p&&(b.width=this.b.p,f=!0),b.height!==this.b.n&&(b.height=this.b.n,f=!0),f&&(d.webkitImageSmoothingEnabled=this.b.F,d.mozImageSmoothingEnabled=this.b.F,d.msImageSmoothingEnabled=this.b.F,d.imageSmoothingEnabled=this.b.F),this.pc&&d.clearRect(0,0,this.b.p,this.b.n));d.globalAlpha=1;d.globalCompositeOperation=
"source-over";this.pc||(d.fillStyle="rgb("+this.ac[0]+","+this.ac[1]+","+this.ac[2]+")",d.fillRect(0,0,this.b.p,this.b.n));d.save();this.Kc=!0;var f=this.Jb(0,0,!0,!0),c=this.Jb(0,0,!1,!0);this.Kc=!1;this.b.lc&&(f=Math.round(f),c=Math.round(c));this.nh(f,c,d);var h=this.qb();d.scale(h,h);d.translate(-f,-c);this.Hb?(this.Ga.left=this.Ja.Xa(this.R),this.Ga.top=this.Ja.Ya(this.S),this.Ga.right=this.Ja.Xa(this.ba),this.Ga.bottom=this.Ja.Ya(this.aa),this.oc||!this.Ga.hf(this.De)?(r(this.Sc),f=this.wi(),
this.oc=!1,this.De.cf(this.Ga)):f=this.Sc):f=this.d;for(var m,l=null,c=0,h=f.length;c<h;++c)m=f[c],m!==l&&(this.po(m,d),l=m);this.Hb&&(this.Sc=f);d.restore();this.Cc&&(a.globalCompositeOperation=this.bf,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};n.prototype.po=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.za();var d=a.pa;d.right<this.R||d.bottom<this.S||d.left>this.ba||d.top>this.aa||(b.globalCompositeOperation=a.bf,a.vc(b))}};n.prototype.Bh=function(){this.Kc=!0;var a=this.Jb(0,0,
!0,!0),b=this.Jb(0,0,!1,!0);this.Kc=!1;this.b.lc&&(a=Math.round(a),b=Math.round(b));this.nh(a,b,null)};n.prototype.nh=function(a,b,d){var f=this.qb();this.R=a;this.S=b;this.ba=a+1/f*this.b.p;this.aa=b+1/f*this.b.n;a=this.ob();0!==a&&(d&&(d.translate(this.b.p/2,this.b.n/2),d.rotate(-a),d.translate(this.b.p/-2,this.b.n/-2)),this.Zc.set(this.R,this.S,this.ba,this.aa),this.Zc.offset((this.R+this.ba)/-2,(this.S+this.aa)/-2),this.Gm.qm(this.Zc,a),this.Gm.jk(this.Zc),this.Zc.offset((this.R+this.ba)/2,(this.S+
this.aa)/2),this.R=this.Zc.left,this.S=this.Zc.top,this.ba=this.Zc.right,this.aa=this.Zc.bottom)};n.prototype.Od=function(a){if(this.Cc=this.Bg){this.b.ua||(this.b.ua=a.Cb(this.b.p,this.b.n,this.b.F));if(this.b.ua.Kd!==this.b.p||this.b.ua.Jd!==this.b.n)a.deleteTexture(this.b.ua),this.b.ua=a.Cb(this.b.p,this.b.n,this.b.F);a.Ub(this.b.ua)}this.Kc=!0;var b=this.Jb(0,0,!0,!0),d=this.Jb(0,0,!1,!0);this.Kc=!1;this.b.lc&&(b=Math.round(b),d=Math.round(d));this.nh(b,d,null);b=this.qb();a.Tb();a.scale(b,b);
a.oh(-this.ob());a.translate((this.R+this.ba)/-2,(this.S+this.aa)/-2);a.Gb();this.Hb?(this.Ga.left=this.Ja.Xa(this.R),this.Ga.top=this.Ja.Ya(this.S),this.Ga.right=this.Ja.Xa(this.ba),this.Ga.bottom=this.Ja.Ya(this.aa),this.oc||!this.Ga.hf(this.De)?(r(this.Sc),b=this.wi(),this.oc=!1,this.De.cf(this.Ga)):b=this.Sc):b=this.d;for(var f,c=null,d=b.length-1;0<=d;--d)f=b[d],f!==c&&(this.ro(b[d],a),c=f);this.Hb&&(this.Sc=b);this.pc||(this.Zh=this.b.Pd++,a.ph(this.Zh),a.lm(1,1,1),a.Fk(),a.Eq())};n.prototype.nb=
function(a){var b=0,d=0;if(this.Cc=this.Bg||1!==this.opacity||0<this.J.length||0!==this.Na){this.b.ua||(this.b.ua=a.Cb(this.b.p,this.b.n,this.b.F));if(this.b.ua.Kd!==this.b.p||this.b.ua.Jd!==this.b.n)a.deleteTexture(this.b.ua),this.b.ua=a.Cb(this.b.p,this.b.n,this.b.F);a.Ub(this.b.ua);this.pc&&a.clear(0,0,0,0)}this.pc||(this.b.P?(a.ph(this.Zh),a.lm(this.ac[0]/255,this.ac[1]/255,this.ac[2]/255),a.Fk(),a.Oq()):a.clear(this.ac[0]/255,this.ac[1]/255,this.ac[2]/255,1));this.Kc=!0;var f=this.Jb(0,0,!0,
!0),b=this.Jb(0,0,!1,!0);this.Kc=!1;this.b.lc&&(f=Math.round(f),b=Math.round(b));this.nh(f,b,null);f=this.qb();a.Tb();a.scale(f,f);a.oh(-this.ob());a.translate((this.R+this.ba)/-2,(this.S+this.aa)/-2);a.Gb();this.Hb?(this.Ga.left=this.Ja.Xa(this.R),this.Ga.top=this.Ja.Ya(this.S),this.Ga.right=this.Ja.Xa(this.ba),this.Ga.bottom=this.Ja.Ya(this.aa),this.oc||!this.Ga.hf(this.De)?(r(this.Sc),b=this.wi(),this.oc=!1,this.De.cf(this.Ga)):b=this.Sc):b=this.d;var c,h,m=null,d=0;for(c=b.length;d<c;++d)h=b[d],
h!==m&&(this.qo(b[d],a),m=h);this.Hb&&(this.Sc=b);this.Cc&&(b=this.J.length?this.J[0].oa:0,d=this.J.length?this.J[0].index:0,0===this.J.length||1===this.J.length&&!a.mj(b)&&1===this.opacity?(1===this.J.length?(a.ib(b),a.Oe(this.Da.mf(),1/this.b.p,1/this.b.n,0,0,1,1,f,this.ob(),this.R,this.S,(this.R+this.ba)/2,(this.S+this.aa)/2,this.b.Ob.ga,this.da[d]),a.kh(b)&&(this.b.M=!0)):a.ib(0),a.Ub(this.Da.mf()),a.ie(this.opacity),a.ub(this.b.ua),a.Cd(this.Sa,this.Pa),a.Tb(),a.Gb(),f=this.b.p/2,b=this.b.n/
2,a.Yf(-f,b,f,b,f,-b,-f,-b),a.ub(null)):this.Da.sj(a,this,null,this.Da.mf()))};n.prototype.qo=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.za();var d=a.pa;d.right<this.R||d.bottom<this.S||d.left>this.ba||d.top>this.aa||(b.ph(a.Pd),a.Sm?this.so(a,b):(b.ib(0),b.Cd(a.Sa,a.Pa),a.nb(b)))}};n.prototype.ro=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.za();var d=a.pa;d.right<this.R||d.bottom<this.S||d.left>this.ba||d.top>this.aa||(a.Pd=this.b.Pd++,0===a.Na&&1===a.opacity&&a.Vc&&a.Od&&
(b.ph(a.Pd),a.Od(b)))}};n.prototype.so=function(a,b){var d=a.J[0].oa,f=a.J[0].index,c=this.qb();if(1!==a.J.length||b.mj(d)||b.Bq(d)||(a.i||a.e.ob())&&b.Uf(d)||1!==a.opacity||a.type.ma.Hl)this.Da.sj(b,this,a,this.Cc?this.b.ua:this.Da.mf()),b.Tb(),b.scale(c,c),b.oh(-this.ob()),b.translate((this.R+this.ba)/-2,(this.S+this.aa)/-2),b.Gb();else{b.ib(d);b.Cd(a.Sa,a.Pa);b.kh(d)&&(this.b.M=!0);var h=0,m=0,l=0,u=0;b.Uf(d)&&(d=a.pa,h=this.ta(d.left,d.top,!0),m=this.ta(d.left,d.top,!1),l=this.ta(d.right,d.bottom,
!0),d=this.ta(d.right,d.bottom,!1),h=h/windowWidth,m=1-m/windowHeight,l=l/windowWidth,u=1-d/windowHeight);b.Oe(this.Cc?this.b.ua:this.Da.mf(),1/a.width,1/a.height,h,m,l,u,c,this.ob(),this.R,this.S,(this.R+this.ba)/2,(this.S+this.aa)/2,this.b.Ob.ga,a.da[f]);a.nb(b)}};n.prototype.Jb=function(a,b,d,f){var c=this.b.devicePixelRatio;this.b.ye&&(a*=c,b*=c);var c=this.b.Tl,h=this.b.Ul,c=(this.Da.scrollX-c)*this.Je+c,h=(this.Da.scrollY-h)*this.Ke+h,m=c,l=h,u=1/this.qb(!f);f?(m-=this.b.p*u/2,l-=this.b.n*u/
2):(m-=this.b.width*u/2,l-=this.b.height*u/2);m+=a*u;l+=b*u;b=this.ob();0!==b&&(m-=c,l-=h,a=Math.cos(b),b=Math.sin(b),f=m*a-l*b,l=l*a+m*b,m=f+c,l+=h);return d?m:l};n.prototype.ta=function(a,b,d){var f=this.b.Tl,c=this.b.Ul,f=(this.Da.scrollX-f)*this.Je+f,h=(this.Da.scrollY-c)*this.Ke+c,c=f,m=h,l=this.ob();if(0!==l){a-=f;b-=h;var u=Math.cos(-l),l=Math.sin(-l),q=a*u-b*l;b=b*u+a*l;a=q+f;b+=h}f=1/this.qb(!1);c-=this.b.p*f/2;m-=this.b.n*f/2;c=(a-c)/f;return d?c:(b-m)/f};n.prototype.tb=function(){var a,
b,d,f={s:this.scale,a:this.i,vl:this.R,vt:this.S,vr:this.ba,vb:this.aa,v:this.visible,bc:this.ac,t:this.pc,px:this.Je,py:this.Ke,o:this.opacity,zr:this.Tj,fx:[],cg:this.ef,instances:[]};a=0;for(b=this.u.length;a<b;a++)d=this.u[a],f.fx.push({name:d.name,active:d.zb,params:this.da[d.index]});return f};n.prototype.Pb=function(a){var b,d,f;this.scale=a.s;this.i=a.a;this.R=a.vl;this.S=a.vt;this.ba=a.vr;this.aa=a.vb;this.visible=a.v;this.ac=a.bc;this.pc=a.t;this.Je=a.px;this.Ke=a.py;this.opacity=a.o;this.Tj=
a.zr;this.ef=a.cg||[];wa(this.Eb,this.ym);var c=new ba;b=0;for(f=this.ef.length;b<f;++b)c.add(this.ef[b]);d=b=0;for(f=this.Eb.length;b<f;++b)c.contains(this.Eb[b][2])||(this.Eb[d]=this.Eb[b],++d);va(this.Eb,d);d=a.fx;b=0;for(f=d.length;b<f;b++)if(a=this.ri(d[b].name))a.zb=d[b].active,this.da[a.index]=d[b].params;this.qc();this.d.sort(m);this.me=!0};Lb=n})();
(function(){function c(a,b){var d,e=a.length;switch(e){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(d=0;d<e;d++)if(a[d]!==b[d])return!1;return!0}}function m(a,b){return a.index-b.index}function n(a){var b,d,e,f;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(m);a.length>=w.length&&(w.length=a.length+1);w[a.length]||(w[a.length]=[]);f=w[a.length];b=0;for(d=f.length;b<d;b++)if(e=f[b],c(a,e))return e;f.push(a);return a}
function p(a,b){this.b=a;this.Im={};this.Bk={};this.Bi=!1;this.Tk=new ba;this.di=[];this.Jh=[];this.name=b[0];var d=b[1];this.od=[];var e,f;e=0;for(f=d.length;e<f;e++)this.Vk(d[e],null,this.od)}function r(a){this.type=a;this.d=[];this.I=[];this.na=!0}function q(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.ka=[];this.Dd=[];this.Qk=this.yh=this.Hj=this.Ei=this.group=this.xm=!1;this.Oa=[];this.Zb=[];this.Vb=[];this.pf="";this.of=this.Ei=this.group=!1;this.pg=null;d[1]&&(this.pf=d[1][1].toLowerCase(),
this.group=!0,this.Ei=!!d[1][0],this.pg=[],this.of=this.Ei,this.b.re.push(this),this.b.Gg[this.pf]=this);this.zc=d[2];this.G=d[4];this.group||(this.b.ik[this.G.toString()]=this);var e=d[5];a=0;for(b=e.length;a<b;a++){var f=new Mb(this,e[a]);f.index=a;this.Oa.push(f);this.Zj(f.type)}e=d[6];a=0;for(b=e.length;a<b;a++)f=new Nb(this,e[a]),f.index=a,this.Zb.push(f);if(8===d.length)for(d=d[7],a=0,b=d.length;a<b;a++)this.sheet.Vk(d[a],this,this.Vb);this.Og=!1;this.Oa.length&&(this.Og=null==this.Oa[0].type&&
this.Oa[0].Ha==Y.prototype.H.an)}function h(a,b){var d,e,f;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Nb))for(d=0,e=a.mb.length;d<e;d++)f=a.mb[d],a!==f&&-1===b.indexOf(f)&&b.push(f)}function b(a,b){this.Ab=a;this.sheet=a.sheet;this.b=a.b;this.D=[];this.ea=[];this.Q={};this.index=-1;this.We=!1;this.Ha=this.b.bd(b[1]);this.trigger=0<b[3];this.Ak=2===b[3];this.Hi=b[5];this.Zp=b[6];this.G=b[7];this.b.jd[this.G.toString()]=this;-1===b[0]?(this.type=null,this.ya=this.xj,this.Id=null,this.cc=-1):(this.type=this.b.j[b[0]],
this.ya=this.Zp?this.Jq:this.wj,b[2]?(this.Id=this.type.Dg(b[2]),this.cc=this.type.pi(b[2])):(this.Id=null,this.cc=-1),this.Ab.parent&&this.Ab.parent.qh());this.Ak&&(this.ya=this.Kq);if(10===b.length){var d,e,f=b[9];d=0;for(e=f.length;d<e;d++){var c=new Ob(this,f[d]);this.D.push(c)}this.ea.length=f.length}}function d(a,b){this.Ab=a;this.sheet=a.sheet;this.b=a.b;this.D=[];this.ea=[];this.Q={};this.index=-1;this.We=!1;this.Ha=this.b.bd(b[1]);-1===b[0]?(this.type=null,this.ya=this.xj,this.Id=null,this.cc=
-1):(this.type=this.b.j[b[0]],this.ya=this.wj,b[2]?(this.Id=this.type.Dg(b[2]),this.cc=this.type.pi(b[2])):(this.Id=null,this.cc=-1));this.G=b[3];this.b.dd[this.G.toString()]=this;if(6===b.length){var d,e,f=b[5];d=0;for(e=f.length;d<e;d++){var c=new Ob(this,f[d]);this.D.push(c)}this.ea.length=f.length}}function f(){O++;t.length===O&&t.push(new Pb);return t[O]}function a(a,b){this.Rb=a;this.Ab=a.Ab;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.wc=null;this.Wc=0;this.get=null;this.pk=0;this.Da=
null;this.key=0;this.object=null;this.index=0;this.gg=this.ke=this.gg=this.ke=this.Dk=this.Rd=this.hg=null;this.Yb=!1;var d,e,f;switch(b[0]){case 0:case 7:this.wc=new U(this,b[1]);this.Wc=0;this.get=this.Bp;break;case 1:this.wc=new U(this,b[1]);this.Wc=0;this.get=this.Cp;break;case 5:this.wc=new U(this,b[1]);this.Wc=0;this.get=this.Gp;break;case 3:case 8:this.pk=b[1];this.get=this.zp;break;case 6:this.Da=this.b.Ui[b[1]];this.get=this.Hp;break;case 9:this.key=b[1];this.get=this.Fp;break;case 4:this.object=
this.b.j[b[1]];this.get=this.Ip;this.Ab.Zj(this.object);this.Rb instanceof Nb?this.Ab.qh():this.Ab.parent&&this.Ab.parent.qh();break;case 10:this.index=b[1];a.type.q?(this.get=this.Dp,this.Yb=!0):this.get=this.Ep;break;case 11:this.hg=b[1];this.Rd=null;this.get=this.Ap;break;case 2:case 12:this.Dk=b[1];this.get=this.yp;break;case 13:for(this.get=this.Jp,this.ke=[],this.gg=[],d=1,e=b.length;d<e;d++)f=new Ob(this.Rb,b[d]),this.ke.push(f),this.gg.push(0)}}function e(a,b,d){this.sheet=a;this.parent=b;
this.b=a.b;this.ka=[];this.name=d[1];this.Di=d[3];this.zf=!!d[4];this.Ng=!!d[5];this.G=d[6];this.b.Ue[this.G.toString()]=this;this.data=this.Di;this.parent?(this.de=this.zf||this.Ng?-1:this.b.Sq++,this.b.In.push(this)):(this.de=-1,this.b.Hn.push(this))}function g(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.ka=[];this.tf=null;this.Pp=d[1];this.zb=!0}function k(){this.zm=[];this.reset(null)}var w=[];p.prototype.toString=function(){return this.name};p.prototype.Vk=function(a,b,d){switch(a[0]){case 0:a=
new Qb(this,b,a);if(a.zc)for(d.push(a),d=0,b=a.Oa.length;d<b;d++)a.Oa[d].trigger&&this.Wk(a,d);else a.fl()?this.Wk(a,0):d.push(a);break;case 1:a=new Ib(this,b,a);d.push(a);break;case 2:a=new Rb(this,b,a),d.push(a)}};p.prototype.ja=function(){var a,b;a=0;for(b=this.od.length;a<b;a++)this.od[a].ja(a<b-1&&this.od[a+1].Og)};p.prototype.Nj=function(){R(this.di);R(this.Jh);this.Yj(this);R(this.Jh)};p.prototype.Yj=function(a){var b,d,e,f,c=a.di,k=a.Jh,h=this.Tk.Xb();b=0;for(d=h.length;b<d;++b)e=h[b],f=e.tf,
!e.zb||a===f||-1<k.indexOf(f)||(k.push(f),f.Yj(a),c.push(f))};p.prototype.ya=function(a){this.b.ts||(this.Bi=!0,a||(this.b.Mi=!0));var b,d;b=0;for(d=this.od.length;b<d;b++){var e=this.od[b];e.ya();this.b.Yh(e.ka);this.b.qd&&this.b.Ma()}a||(this.b.Mi=!1)};p.prototype.Wk=function(a,b){a.zc||this.b.zh.push(a);var d,e,f=a.Oa[b],c;f.type?c=f.type.name:c="system";var k=(d=f.Ak)?this.Bk:this.Im;k[c]||(k[c]=[]);c=k[c];k=f.Ha;if(d){if(f.D.length&&(f=f.D[0],1===f.type&&2===f.wc.type)){f=f.wc.value.toLowerCase();
d=0;for(e=c.length;d<e;d++)if(c[d].method==k){d=c[d].kf;d[f]?d[f].push([a,b]):d[f]=[[a,b]];return}d={};d[f]=[[a,b]];c.push({method:k,kf:d})}}else{d=0;for(e=c.length;d<e;d++)if(c[d].method==k){c[d].kf.push([a,b]);return}Z&&k===Z.prototype.H.qe?c.unshift({method:k,kf:[[a,b]]}):c.push({method:k,kf:[[a,b]]})}};yb=p;r.prototype.Ok=function(){return this.na?this.type.d.length:this.d.length};r.prototype.hc=function(){return this.na?this.type.d:this.d};r.prototype.Tf=function(a){a&&(a.b.pb().gc.zc?(this.na&&
(R(this.d),wa(this.I,a.type.d),this.na=!1),a=this.I.indexOf(a),-1!==a&&(this.d.push(this.I[a]),this.I.splice(a,1))):(this.na=!1,R(this.d),this.d[0]=a))};hb=r;window._c2hh_="452B435306E1242151A43DBBE2F7065CB487A3E9";q.prototype.ja=function(a){var b,d=this.parent;if(this.group)for(this.yh=!0;d;){if(!d.group){this.yh=!1;break}d=d.parent}this.Hj=!this.fl()&&(!this.parent||this.parent.group&&this.parent.yh);this.Qk=!!a;this.Dd=this.ka.slice(0);for(d=this.parent;d;){a=0;for(b=d.ka.length;a<b;a++)this.Gn(d.ka[a]);
d=d.parent}this.ka=n(this.ka);this.Dd=n(this.Dd);a=0;for(b=this.Oa.length;a<b;a++)this.Oa[a].ja();a=0;for(b=this.Zb.length;a<b;a++)this.Zb[a].ja();a=0;for(b=this.Vb.length;a<b;a++)this.Vb[a].ja(a<b-1&&this.Vb[a+1].Og)};q.prototype.Nq=function(a){if(this.of!==!!a){this.of=!!a;var b;a=0;for(b=this.pg.length;a<b;++a)this.pg[a].Nm();0<b&&this.b.N.Qd&&this.b.N.Qd.Nj()}};q.prototype.Zj=function(a){h(a,this.ka)};q.prototype.Gn=function(a){h(a,this.Dd)};q.prototype.qh=function(){this.xm=!0;this.parent&&this.parent.qh()};
q.prototype.fl=function(){return this.Oa.length?this.Oa[0].trigger:!1};q.prototype.ya=function(){var a,b,d=!1,e=this.b,f=this.b.pb();f.gc=this;var c=this.Oa;this.Og||(f.fi=!1);if(this.zc){0===c.length&&(d=!0);f.lb=0;for(a=c.length;f.lb<a;f.lb++)b=c[f.lb],b.trigger||(b=b.ya())&&(d=!0);(f.Zd=d)&&this.vj()}else{f.lb=0;for(a=c.length;f.lb<a;f.lb++)if(b=c[f.lb].ya(),!b){f.Zd=!1;this.Hj&&e.qd&&e.Ma();return}f.Zd=!0;this.vj()}this.wo(f)};q.prototype.wo=function(a){a.Zd&&this.Qk&&(a.fi=!0);this.Hj&&this.b.qd&&
this.b.Ma()};q.prototype.Hq=function(a){this.b.pb().gc=this;this.Oa[a].ya()&&(this.vj(),this.b.pb().Zd=!0)};q.prototype.vj=function(){var a=this.b.pb(),b;a.Ib=0;for(b=this.Zb.length;a.Ib<b;a.Ib++)if(this.Zb[a.Ib].ya())return;this.gm()};q.prototype.Fq=function(){var a=this.b.pb(),b;for(b=this.Zb.length;a.Ib<b;a.Ib++)if(this.Zb[a.Ib].ya())return;this.gm()};q.prototype.gm=function(){if(this.Vb.length){var a,b,d,e,f=this.Vb.length-1;this.b.oj(this);if(this.xm)for(a=0,b=this.Vb.length;a<b;a++)d=this.Vb[a],
(e=!this.yh||!this.group&&a<f)&&this.b.nj(d.ka),d.ya(),e?this.b.Le(d.ka):this.b.Yh(d.ka);else for(a=0,b=this.Vb.length;a<b;a++)this.Vb[a].ya();this.b.Yl()}};q.prototype.Iq=function(){var a=this.b.pb();a.gc=this;var b=!1,d;a.lb=0;for(d=this.Oa.length;a.lb<d;a.lb++)if(this.Oa[a.lb].ya())b=!0;else if(!this.zc)return!1;return this.zc?b:!0};q.prototype.Wp=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Oa[b].type===a.type)return!1;return!0};Qb=q;b.prototype.ja=function(){var a,b,d;
a=0;for(b=this.D.length;a<b;a++)d=this.D[a],d.ja(),d.Yb&&(this.We=!0)};b.prototype.Kq=function(){return!0};b.prototype.xj=function(){var a,b;a=0;for(b=this.D.length;a<b;a++)this.ea[a]=this.D[a].get();return Oa(this.Ha.apply(this.b.Ec,this.ea),this.Hi)};b.prototype.Jq=function(){var a,b;a=0;for(b=this.D.length;a<b;a++)this.ea[a]=this.D[a].get();a=this.Ha.apply(this.Id?this.Id:this.type,this.ea);this.type.Hd();return a};b.prototype.wj=function(){var a,b,d,e,f,c,k,h,g=this.type,m=g.V(),t=this.Ab.zc&&
!this.trigger;b=0;var q=g.Nb,n=g.q,w=g.Mc,p=this.cc,r=-1<p,O=this.We,F=this.D,G=this.ea,S=this.Hi,I=this.Ha,B;if(O)for(b=0,f=F.length;b<f;++b)c=F[b],c.Yb||(G[b]=c.get(0));else for(b=0,f=F.length;b<f;++b)G[b]=F[b].get(0);if(m.na){R(m.d);R(m.I);B=g.d;a=0;for(e=B.length;a<e;++a){h=B[a];if(O)for(b=0,f=F.length;b<f;++b)c=F[b],c.Yb&&(G[b]=c.get(a));r?(b=0,n&&(b=h.type.we[w]),b=I.apply(h.r[p+b],G)):b=I.apply(h,G);(k=Oa(b,S))?m.d.push(h):t&&m.I.push(h)}g.finish&&g.finish(!0);m.na=!1;g.Hd();return m.Ok()}d=
0;B=(k=t&&!this.Ab.Wp(this))?m.I:m.d;var J=!1;a=0;for(e=B.length;a<e;++a){h=B[a];if(O)for(b=0,f=F.length;b<f;++b)c=F[b],c.Yb&&(G[b]=c.get(a));r?(b=0,n&&(b=h.type.we[w]),b=I.apply(h.r[p+b],G)):b=I.apply(h,G);if(Oa(b,S))if(J=!0,k){if(m.d.push(h),q)for(b=0,f=h.siblings.length;b<f;b++)c=h.siblings[b],c.type.V().d.push(c)}else{B[d]=h;if(q)for(b=0,f=h.siblings.length;b<f;b++)c=h.siblings[b],c.type.V().d[d]=c;d++}else if(k){B[d]=h;if(q)for(b=0,f=h.siblings.length;b<f;b++)c=h.siblings[b],c.type.V().I[d]=
c;d++}else if(t&&(m.I.push(h),q))for(b=0,f=h.siblings.length;b<f;b++)c=h.siblings[b],c.type.V().I.push(c)}va(B,d);if(q)for(n=g.mb,a=0,e=n.length;a<e;a++)h=n[a].V(),k?va(h.I,d):va(h.d,d);d=J;if(k&&!J)for(a=0,e=m.d.length;a<e;a++){h=m.d[a];if(O)for(b=0,f=F.length;b<f;b++)c=F[b],c.Yb&&(G[b]=c.get(a));b=r?I.apply(h.r[p],G):I.apply(h,G);if(Oa(b,S)){J=!0;break}}g.finish&&g.finish(d||t);return t?J:m.Ok()};Mb=b;d.prototype.ja=function(){var a,b,d;a=0;for(b=this.D.length;a<b;a++)d=this.D[a],d.ja(),d.Yb&&(this.We=
!0)};d.prototype.xj=function(){var a=this.b,b,d,e=this.D,f=this.ea;b=0;for(d=e.length;b<d;++b)f[b]=e[b].get();return this.Ha.apply(a.Ec,f)};d.prototype.wj=function(){var a=this.type,b=this.cc,d=a.Mc,e=this.We,f=this.D,c=this.ea,k=this.Ha,h=a.V().hc(),a=a.q,g=-1<b,m,t,q,n,w,p;if(e)for(t=0,n=f.length;t<n;++t)w=f[t],w.Yb||(c[t]=w.get(0));else for(t=0,n=f.length;t<n;++t)c[t]=f[t].get(0);m=0;for(q=h.length;m<q;++m){p=h[m];if(e)for(t=0,n=f.length;t<n;++t)w=f[t],w.Yb&&(c[t]=w.get(m));g?(t=0,a&&(t=p.type.we[d]),
k.apply(p.r[b+t],c)):k.apply(p,c)}return!1};Nb=d;var t=[],O=-1;a.prototype.ja=function(){var a,b;if(11===this.type)this.Rd=this.b.Jk(this.hg,this.Ab.parent);else if(13===this.type)for(a=0,b=this.ke.length;a<b;a++)this.ke[a].ja();this.wc&&this.wc.ja()};a.prototype.cq=function(a){this.Yb||!a||a.ma.sh||(this.Yb=!0)};a.prototype.pm=function(){this.Yb=!0};a.prototype.Bp=function(a){this.Wc=a||0;a=f();this.wc.get(a);O--;return a.data};a.prototype.Cp=function(a){this.Wc=a||0;a=f();this.wc.get(a);O--;return L(a.data)?
a.data:""};a.prototype.Ip=function(){return this.object};a.prototype.zp=function(){return this.pk};a.prototype.Gp=function(a){this.Wc=a||0;a=f();this.wc.get(a);O--;return a.Ca()?this.b.qp(a.data):this.b.pp(a.data)};a.prototype.Hp=function(){return this.Da};a.prototype.Fp=function(){return this.key};a.prototype.Ep=function(){return this.index};a.prototype.Dp=function(a){a=a||0;var b=this.Rb.type,d=null,d=b.V(),e=d.hc();if(e.length)d=e[a%e.length].type;else if(d.I.length)d=d.I[a%d.I.length].type;else if(b.d.length)d=
b.d[a%b.d.length].type;else return 0;return this.index+d.xg[b.Mc]};a.prototype.Ap=function(){return this.Rd};a.prototype.yp=function(){return this.Dk};a.prototype.Jp=function(){var a,b;a=0;for(b=this.ke.length;a<b;a++)this.gg[a]=this.ke[a].get();return this.gg};Ob=a;e.prototype.ja=function(){this.ka=n(this.ka)};e.prototype.Pq=function(a){var b=this.b.Ik();this.parent&&!this.zf&&b?(this.de>=b.length&&(b.length=this.de+1),b[this.de]=a):this.data=a};e.prototype.xp=function(){var a=this.b.Ik();return!this.parent||
this.zf||!a||this.Ng?this.data:this.de>=a.length||"undefined"===typeof a[this.de]?this.Di:a[this.de]};e.prototype.ya=function(){!this.parent||this.zf||this.Ng||this.Pq(this.Di)};Ib=e;g.prototype.toString=function(){return"include:"+this.tf.toString()};g.prototype.ja=function(){this.tf=this.b.hi[this.Pp];this.sheet.Tk.add(this);this.ka=n(this.ka);for(var a=this.parent;a;)a.group&&a.pg.push(this),a=a.parent;this.Nm()};g.prototype.ya=function(){this.parent&&this.b.Xf(this.b.j);this.tf.Bi||this.tf.ya(!0);
this.parent&&this.b.Le(this.b.j)};g.prototype.Nm=function(){for(var a=this.parent;a;){if(a.group&&!a.of){this.zb=!1;return}a=a.parent}this.zb=!0};Rb=g;k.prototype.reset=function(a){this.gc=a;this.Ib=this.lb=0;R(this.zm);this.fi=this.Zd=!1};Hb=k})();
(function(){function c(c,b){this.Rb=c;this.b=c.b;this.type=b[0];this.get=[this.No,this.Jo,this.Wo,this.Zo,this.yo,this.Xo,this.Ro,this.Go,this.Qo,this.Vo,this.zo,this.Uo,this.Ho,this.So,this.Oo,this.Po,this.Ko,this.Lo,this.Fo,this.Yo,this.To,this.Mo,this.Eo,this.Io][this.type];var d=null;this.Tc=this.D=this.ea=this.Ha=this.xh=this.second=this.first=this.value=null;this.cc=-1;this.ic=null;this.Tm=-1;this.Rd=this.hg=null;this.Ne=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new U(c,b[1]);break;case 18:this.first=new U(c,b[1]);this.second=new U(c,b[2]);this.xh=new U(c,b[3]);break;case 19:this.Ha=this.b.bd(b[1]);this.Ha!==Y.prototype.qa.random&&this.Ha!==Y.prototype.qa.Pn||this.Rb.pm();this.ea=[];this.D=[];3===b.length?(d=b[2],this.ea.length=d.length+1):this.ea.length=1;break;case 20:this.Tc=this.b.j[b[1]];this.cc=-1;this.Ha=this.b.bd(b[2]);this.Ne=b[3];Tb.Function&&this.Ha===Tb.Function.prototype.qa.kr&&this.Rb.pm();b[4]?this.ic=new U(c,b[4]):this.ic=null;this.ea=[];
this.D=[];6===b.length?(d=b[5],this.ea.length=d.length+1):this.ea.length=1;break;case 21:this.Tc=this.b.j[b[1]];this.Ne=b[2];b[3]?this.ic=new U(c,b[3]):this.ic=null;this.Tm=b[4];break;case 22:this.Tc=this.b.j[b[1]];this.Tc.Dg(b[2]);this.cc=this.Tc.pi(b[2]);this.Ha=this.b.bd(b[3]);this.Ne=b[4];b[5]?this.ic=new U(c,b[5]):this.ic=null;this.ea=[];this.D=[];7===b.length?(d=b[6],this.ea.length=d.length+1):this.ea.length=1;break;case 23:this.hg=b[1],this.Rd=null}this.Rb.cq(this.Tc);4<=this.type&&17>=this.type&&
(this.first=new U(c,b[1]),this.second=new U(c,b[2]));if(d){var f,a;f=0;for(a=d.length;f<a;f++)this.D.push(new U(c,d[f]))}}function m(){++q;r.length===q&&r.push(new Pb);return r[q]}function n(c,b,d){var f,a;f=0;for(a=c.length;f<a;++f)c[f].get(d),b[f+1]=d.data}function p(c,b){this.type=c||W.pe;this.data=b||0;this.ge=null;this.type==W.pe&&(this.data=Math.floor(this.data))}c.prototype.ja=function(){23===this.type&&(this.Rd=this.Rb.b.Jk(this.hg,this.Rb.Ab.parent));this.first&&this.first.ja();this.second&&
this.second.ja();this.xh&&this.xh.ja();this.ic&&this.ic.ja();if(this.D){var c,b;c=0;for(b=this.D.length;c<b;c++)this.D[c].ja()}};var r=[],q=-1;c.prototype.Yo=function(c){var b=this.D,d=this.ea;d[0]=c;c=m();n(b,d,c);--q;this.Ha.apply(this.b.Ec,d)};c.prototype.To=function(c){var b=this.Tc,d=this.ea,f=this.D,a=this.ic,e=this.Ha,g=this.Rb.Wc,k=b.V(),w=k.hc();if(!w.length)if(k.I.length)w=k.I;else{this.Ne?c.wb(""):c.O(0);return}d[0]=c;c.ge=b;c=m();n(f,d,c);a&&(a.get(c),c.Ca()&&(g=c.data,w=b.d));--q;b=w.length;
if(g>=b||g<=-b)g%=b;0>g&&(g+=b);e.apply(w[g],d)};c.prototype.Eo=function(c){var b=this.Tc,d=this.ea,f=this.D,a=this.ic,e=this.cc,g=this.Ha,k=this.Rb.Wc,w=b.V(),t=w.hc();if(!t.length)if(w.I.length)t=w.I;else{this.Ne?c.wb(""):c.O(0);return}d[0]=c;c.ge=b;c=m();n(f,d,c);a&&(a.get(c),c.Ca()&&(k=c.data,t=b.d));--q;f=t.length;if(k>=f||k<=-f)k%=f;0>k&&(k+=f);k=t[k];t=0;b.q&&(t=k.type.we[b.Mc]);g.apply(k.r[e+t],d)};c.prototype.Mo=function(c){var b=this.ic,d=this.Tc,f=this.Tm,a=this.Rb.Wc,e=d.V(),g=e.hc();
if(!g.length)if(e.I.length)g=e.I;else{this.Ne?c.wb(""):c.O(0);return}if(b){e=m();b.get(e);if(e.Ca()){a=e.data;g=d.d;0!==g.length&&(a%=g.length,0>a&&(a+=g.length));a=d.vi(a);d=a.ra[f];L(d)?c.wb(d):c.A(d);--q;return}--q}b=g.length;if(a>=b||a<=-b)a%=b;0>a&&(a+=b);a=g[a];g=0;d.q&&(g=a.type.xg[d.Mc]);d=a.ra[f+g];L(d)?c.wb(d):c.A(d)};c.prototype.No=function(c){c.type=W.pe;c.data=this.value};c.prototype.Jo=function(c){c.type=W.oe;c.data=this.value};c.prototype.Wo=function(c){c.type=W.String;c.data=this.value};
c.prototype.Zo=function(c){this.first.get(c);c.Ca()&&(c.data=-c.data)};c.prototype.yo=function(c){this.first.get(c);var b=m();this.second.get(b);c.Ca()&&b.Ca()&&(c.data+=b.data,b.Ae()&&c.Fe());--q};c.prototype.Xo=function(c){this.first.get(c);var b=m();this.second.get(b);c.Ca()&&b.Ca()&&(c.data-=b.data,b.Ae()&&c.Fe());--q};c.prototype.Ro=function(c){this.first.get(c);var b=m();this.second.get(b);c.Ca()&&b.Ca()&&(c.data*=b.data,b.Ae()&&c.Fe());--q};c.prototype.Go=function(c){this.first.get(c);var b=
m();this.second.get(b);c.Ca()&&b.Ca()&&(c.data/=b.data,c.Fe());--q};c.prototype.Qo=function(c){this.first.get(c);var b=m();this.second.get(b);c.Ca()&&b.Ca()&&(c.data%=b.data,b.Ae()&&c.Fe());--q};c.prototype.Vo=function(c){this.first.get(c);var b=m();this.second.get(b);c.Ca()&&b.Ca()&&(c.data=Math.pow(c.data,b.data),b.Ae()&&c.Fe());--q};c.prototype.zo=function(c){this.first.get(c);var b=m();this.second.get(b);b.Ce()||c.Ce()?this.Bo(c,b):this.Ao(c,b);--q};c.prototype.Bo=function(c,b){c.Ce()&&b.Ce()?
this.Do(c,b):this.Co(c,b)};c.prototype.Do=function(c,b){c.data+=b.data};c.prototype.Co=function(c,b){c.Ce()?c.data+=(Math.round(1E10*b.data)/1E10).toString():c.wb(c.data.toString()+b.data)};c.prototype.Ao=function(c,b){c.O(c.data&&b.data?1:0)};c.prototype.Uo=function(c){this.first.get(c);var b=m();this.second.get(b);c.Ca()&&b.Ca()&&(c.data||b.data?c.O(1):c.O(0));--q};c.prototype.Fo=function(c){this.first.get(c);c.data?this.second.get(c):this.xh.get(c)};c.prototype.Ho=function(c){this.first.get(c);
var b=m();this.second.get(b);c.O(c.data===b.data?1:0);--q};c.prototype.So=function(c){this.first.get(c);var b=m();this.second.get(b);c.O(c.data!==b.data?1:0);--q};c.prototype.Oo=function(c){this.first.get(c);var b=m();this.second.get(b);c.O(c.data<b.data?1:0);--q};c.prototype.Po=function(c){this.first.get(c);var b=m();this.second.get(b);c.O(c.data<=b.data?1:0);--q};c.prototype.Ko=function(c){this.first.get(c);var b=m();this.second.get(b);c.O(c.data>b.data?1:0);--q};c.prototype.Lo=function(c){this.first.get(c);
var b=m();this.second.get(b);c.O(c.data>=b.data?1:0);--q};c.prototype.Io=function(c){var b=this.Rd.xp();ga(b)?c.A(b):c.wb(b)};U=c;p.prototype.Ae=function(){return this.type===W.oe};p.prototype.Ca=function(){return this.type===W.pe||this.type===W.oe};p.prototype.Ce=function(){return this.type===W.String};p.prototype.Fe=function(){this.Ae()||(this.Ce()&&(this.data=parseFloat(this.data)),this.type=W.oe)};p.prototype.O=function(c){this.type=W.pe;this.data=Math.floor(c)};p.prototype.A=function(c){this.type=
W.oe;this.data=c};p.prototype.wb=function(c){this.type=W.String;this.data=c};p.prototype.Qq=function(c){ga(c)?(this.type=W.oe,this.data=c):L(c)?(this.type=W.String,this.data=c.toString()):(this.type=W.pe,this.data=0)};Pb=p;W={pe:0,oe:1,String:2}})();function Y(c){this.b=c;this.yb=[]}
Y.prototype.tb=function(){var c={},m,n,p,r,q,h,b,d;c.waits=[];var f=c.waits,a;m=0;for(n=this.yb.length;m<n;m++){h=this.yb[m];a={t:h.time,st:h.Rq,s:h.um,ev:h.jf.G,sm:[],sols:{}};h.jf.Zb[h.Ib]&&(a.act=h.jf.Zb[h.Ib].G);p=0;for(r=h.ka.length;p<r;p++)a.sm.push(h.ka[p].G);for(q in h.xb)if(h.xb.hasOwnProperty(q)){b=this.b.j[parseInt(q,10)];d={sa:h.xb[q].hm,insts:[]};p=0;for(r=h.xb[q].Wd.length;p<r;p++)d.insts.push(h.xb[q].Wd[p].uid);a.sols[b.G.toString()]=d}f.push(a)}return c};
Y.prototype.Pb=function(c){c=c.waits;var m,n,p,r,q,h,b,d,f,a,e;R(this.yb);m=0;for(n=c.length;m<n;m++)if(h=c[m],d=this.b.ik[h.ev.toString()]){f=-1;p=0;for(r=d.Zb.length;p<r;p++)if(d.Zb[p].G===h.act){f=p;break}if(-1!==f){b={xb:{},ka:[],tk:!1};b.time=h.t;b.Rq=h.st||"";b.um=!!h.s;b.jf=d;b.Ib=f;p=0;for(r=h.sm.length;p<r;p++)(d=this.b.Fg(h.sm[p]))&&b.ka.push(d);for(q in h.sols)if(h.sols.hasOwnProperty(q)&&(d=this.b.Fg(parseInt(q,10)))){f=h.sols[q];a={hm:f.sa,Wd:[]};p=0;for(r=f.insts.length;p<r;p++)(e=this.b.Mk(f.insts[p]))&&
a.Wd.push(e);b.xb[d.index.toString()]=a}this.yb.push(b)}}};
(function(){function c(){}function m(){}var n=Y.prototype;c.prototype.bn=function(){return!0};c.prototype.Vj=function(){return!0};c.prototype.tn=function(){return!0};c.prototype.an=function(){var c=this.b.pb();return c.fi?!1:!c.Zd};c.prototype.Wj=function(){return!0};c.prototype.pn=function(){return!0};c.prototype.Hh=function(){return!0};c.prototype.un=function(){return!0};c.prototype.Gh=function(){return!0};c.prototype.Xm=function(c,h,b){return Ka(T(c),T(b))<=T(h)};c.prototype.hn=function(c,h){return Ma(T(c),
T(h))};c.prototype.gn=function(c,h,b){c=Ia(c);h=Ia(h);b=Ia(b);return Ma(b,h)?Ma(c,h)&&!Ma(c,b):!(!Ma(c,h)&&Ma(c,b))};n.H=new c;var p=[],r=[];n.Ba=new function(){};m.prototype["int"]=function(c,h){L(h)?(c.O(parseInt(h,10)),isNaN(c.data)&&(c.data=0)):c.O(h)};m.prototype["float"]=function(c,h){L(h)?(c.A(parseFloat(h)),isNaN(c.data)&&(c.data=0)):c.A(h)};m.prototype.random=function(c,h,b){void 0===b?c.A(Math.random()*h):c.A(Math.random()*(b-h)+h)};m.prototype.sqrt=function(c,h){c.A(Math.sqrt(h))};m.prototype.abs=
function(c,h){c.A(Math.abs(h))};m.prototype.round=function(c,h){c.O(Math.round(h))};m.prototype.floor=function(c,h){c.O(Math.floor(h))};m.prototype.ceil=function(c,h){c.O(Math.ceil(h))};m.prototype.sin=function(c,h){c.A(Math.sin(T(h)))};m.prototype.cos=function(c,h){c.A(Math.cos(T(h)))};m.prototype.tan=function(c,h){c.A(Math.tan(T(h)))};m.prototype.asin=function(c,h){c.A(Ea(Math.asin(h)))};m.prototype.acos=function(c,h){c.A(Ea(Math.acos(h)))};m.prototype.atan=function(c,h){c.A(Ea(Math.atan(h)))};
m.prototype.exp=function(c,h){c.A(Math.exp(h))};m.prototype.log10=function(c,h){c.A(Math.log(h)/Math.LN10)};m.prototype.max=function(c){var h=arguments[1];"number"!==typeof h&&(h=0);var b,d,f;b=2;for(d=arguments.length;b<d;b++)f=arguments[b],"number"===typeof f&&h<f&&(h=f);c.A(h)};m.prototype.min=function(c){var h=arguments[1];"number"!==typeof h&&(h=0);var b,d,f;b=2;for(d=arguments.length;b<d;b++)f=arguments[b],"number"===typeof f&&h>f&&(h=f);c.A(h)};m.prototype.ue=function(c){c.A(this.b.ue)};m.prototype.fg=
function(c){c.A(this.b.fg)};m.prototype.time=function(c){c.A(this.b.Ob.ga)};m.prototype.Yc=function(c){c.O(this.b.Yc)};m.prototype.fh=function(c){c.O(this.b.fh)};m.prototype.mi=function(c){c.O(this.b.mi)};m.prototype.Vn=function(c,h,b,d,f){c.A(Na(h,b,d,f))};m.prototype.i=function(c,h,b,d,f){c.A(Ea(Ja(h,b,d,f)))};m.prototype.left=function(c,h,b){c.wb(L(h)?h.substr(0,b):"")};m.prototype.right=function(c,h,b){c.wb(L(h)?h.substr(h.length-b):"")};m.prototype.replace=function(c,h,b,d){L(h)&&L(b)&&L(d)?
c.wb(h.replace(new RegExp(Xa(b),"gi"),d)):c.wb(L(h)?h:"")};m.prototype.trim=function(c,h){c.wb(L(h)?h.trim():"")};m.prototype.Pn=function(c){var h=M(Math.random()*(arguments.length-1));c.Qq(arguments[h+1])};m.prototype.$h=function(c){c.A(this.b.$h/1E3)};m.prototype.Yg=function(c){c.A(this.b.Yg)};n.qa=new m;n.Gq=function(){var c,h,b,d,f,a,e=this.b.pb();c=0;for(b=this.yb.length;c<b;c++){d=this.yb[c];if(-1===d.time){if(!d.um)continue}else if(d.time>this.b.Ob.ga)continue;e.gc=d.jf;e.Ib=d.Ib;e.lb=0;for(h in d.xb)d.xb.hasOwnProperty(h)&&
(f=this.b.j[parseInt(h,10)].V(),a=d.xb[h],f.na=a.hm,wa(f.d,a.Wd),f=a,R(f.Wd),r.push(f));d.jf.Fq();this.b.Yh(d.ka);d.tk=!0}h=c=0;for(b=this.yb.length;c<b;c++)d=this.yb[c],this.yb[h]=d,d.tk?(Qa(d.xb),R(d.ka),p.push(d)):h++;va(this.yb,h)}})();
(function(){gb=function(c,n){var p=c[1],r=c[3],q=c[4],h=c[5],b=c[6],d=c[7],f=c[8];n.H||(n.H={});n.Ba||(n.Ba={});n.qa||(n.qa={});var a=n.H,e=n.Ba,g=n.qa;r&&(a.pr=function(a,b){return Sb(this.x,a,b)},a.qr=function(a,b){return Sb(this.y,a,b)},a.Ar=function(){var a=this.e;this.za();var b=this.pa;return!(b.right<a.R||b.bottom<a.S||b.left>a.ba||b.top>a.aa)},a.Br=function(){this.za();var a=this.pa,b=this.b.N;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},a.Nr=function(a,b,d){var e=this.V(),
c=e.hc();if(!c.length)return!1;var f=c[0],g=f,h=Na(f.x,f.y,b,d),m,n,q;m=1;for(n=c.length;m<n;m++)if(f=c[m],q=Na(f.x,f.y,b,d),0===a&&q<h||1===a&&q>h)h=q,g=f;e.Tf(g);return!0},e.cs=function(a){this.x!==a&&(this.x=a,this.Z())},e.ds=function(a){this.y!==a&&(this.y=a,this.Z())},e.xn=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.Z()},e.yn=function(a,b){var d=a.sp(this);if(d){var e;d.ti?(e=d.ti(b,!0),d=d.ti(b,!1)):(e=d.x,d=d.y);if(this.x!==e||this.y!==d)this.x=e,this.y=d,this.Z()}},e.Gr=
function(a){0!==a&&(this.x+=Math.cos(this.i)*a,this.y+=Math.sin(this.i)*a,this.Z())},e.Fr=function(a,b){0!==b&&(this.x+=Math.cos(T(a))*b,this.y+=Math.sin(T(a))*b,this.Z())},g.En=function(a){a.A(this.x)},g.Fn=function(a){a.A(this.y)},g.ue=function(a){a.A(this.b.qi(this))});q&&(a.or=function(a,b){return Sb(this.width,a,b)},a.lr=function(a,b){return Sb(this.height,a,b)},e.Xj=function(a){this.width!==a&&(this.width=a,this.Z())},e.wn=function(a){this.height!==a&&(this.height=a,this.Z())},e.$r=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.Z()},g.js=function(a){a.A(this.width)},g.tr=function(a){a.A(this.height)},g.hr=function(a){this.za();a.A(this.pa.left)},g.jr=function(a){this.za();a.A(this.pa.top)},g.ir=function(a){this.za();a.A(this.pa.right)},g.gr=function(a){this.za();a.A(this.pa.bottom)});h&&(a.Xm=function(a,b){return Ka(this.i,T(b))<=T(a)},a.hn=function(a){return Ma(this.i,T(a))},a.gn=function(a,b){var d=Ia(a),e=Ia(b),c=Ga(this.i);return Ma(e,d)?Ma(c,d)&&
!Ma(c,e):!(!Ma(c,d)&&Ma(c,e))},e.vn=function(a){a=T(Fa(a));isNaN(a)||this.i===a||(this.i=a,this.Z())},e.Rr=function(a){0===a||isNaN(a)||(this.i+=T(a),this.i=Ga(this.i),this.Z())},e.Sr=function(a){0===a||isNaN(a)||(this.i-=T(a),this.i=Ga(this.i),this.Z())},e.Tr=function(a,b){var d=La(this.i,T(b),T(a));isNaN(d)||this.i===d||(this.i=d,this.Z())},e.Ur=function(a,b,d){a=La(this.i,Math.atan2(d-this.y,b-this.x),T(a));isNaN(a)||this.i===a||(this.i=a,this.Z())},e.as=function(a,b){var d=Math.atan2(b-this.y,
a-this.x);isNaN(d)||this.i===d||(this.i=d,this.Z())},g.fr=function(a){a.A(Ha(this.i))});p||(a.mr=function(a,b,d){return Sb(this.ra[a],b,d)},a.xr=function(a){return this.ra[a]},a.Or=function(a,b){var d=this.V(),e=d.hc();if(!e.length)return!1;var c=e[0],f=c,g=c.ra[b],h,m,n;h=1;for(m=e.length;h<m;h++)if(c=e[h],n=c.ra[b],0===a&&n<g||1===a&&n>g)g=n,f=c;d.Tf(f);return!0},a.Mr=function(a){var b,d,e,c,f;if(this.b.kp().Hi){f=this.V();if(f.na)for(f.na=!1,R(f.d),R(f.I),e=this.d,b=0,d=e.length;b<d;b++)c=e[b],
c.uid===a?f.I.push(c):f.d.push(c);else{e=b=0;for(d=f.d.length;b<d;b++)c=f.d[b],f.d[e]=c,c.uid===a?f.I.push(c):e++;va(f.d,e)}this.Hd();return!!f.d.length}c=this.b.Mk(a);if(!c)return!1;f=this.V();if(!f.na&&-1===f.d.indexOf(c))return!1;if(this.q)for(a=c.type.X,b=0,d=a.length;b<d;b++){if(a[b]===this)return f.Tf(c),this.Hd(),!0}else if(c.type===this)return f.Tf(c),this.Hd(),!0;return!1},a.Uj=function(){return!0},a.qn=function(){return!0},e.Yr=function(a,b){var d=this.ra;ga(d[a])?d[a]=ga(b)?b:parseFloat(b):
L(d[a])&&(d[a]=L(b)?b:b.toString())},e.er=function(a,b){var d=this.ra;ga(d[a])?d[a]=ga(b)?d[a]+b:d[a]+parseFloat(b):L(d[a])&&(d[a]=L(b)?d[a]+b:d[a]+b.toString())},e.es=function(a,b){var d=this.ra;ga(d[a])&&(d[a]=ga(b)?d[a]-b:d[a]-parseFloat(b))},e.Vr=function(a,b){this.ra[a]=b?1:0},e.gs=function(a){this.ra[a]=1-this.ra[a]},e.sr=function(){this.b.ne(this)},e.kn||(e.kn=function(a){var b,d;try{b=JSON.parse(a)}catch(e){return}this.b.Wg(this,b,!0);this.ed&&this.ed();if(this.r)for(a=0,b=this.r.length;a<
b;++a)d=this.r[a],d.ed&&d.ed()}),g.rr=function(a){var b=a.ge.d.length,d,e,c;d=0;for(e=this.b.fc.length;d<e;d++)c=this.b.fc[d],a.ge.q?0<=c.type.X.indexOf(a.ge)&&b++:c.type===a.ge&&b++;a.O(b)},g.Qr=function(a){a.O(a.ge.V().hc().length)},g.hs=function(a){a.O(this.uid)},g.ur=function(a){a.O(this.nf())},g.Ym||(g.Ym=function(a){a.wb(JSON.stringify(this.b.yj(this,!0)))}));b&&(a.Cr=function(){return this.visible},e.bs=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.M=!0)},a.nr=function(a,b){return Sb(cb(100*
this.opacity),a,b)},e.Zr=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.M=!0)},g.Opacity=function(a){a.A(cb(100*this.opacity))});d&&(a.yr=function(a){return a?this.e===a:!1},a.Pr=function(a){var b=this.V(),d=b.hc();if(!d.length)return!1;var e=d[0],c=e,f,g;f=1;for(g=d.length;f<g;f++)if(e=d[f],0===a){if(e.e.index>c.e.index||e.e.index===c.e.index&&e.Lb()>c.Lb())c=e}else if(e.e.index<c.e.index||e.e.index===c.e.index&&e.Lb()<c.Lb())c=e;b.Tf(c);return!0},e.Jr=function(){var a=
this.e,b=a.d;b.length&&b[b.length-1]===this||(a.Me(this,!1),a.Ye(this,!1),this.b.M=!0)},e.Hr=function(){var a=this.e,b=a.d;b.length&&b[0]===this||(a.Me(this,!1),a.zq(this),this.b.M=!0)},e.Ir=function(a){a&&a!=this.e&&(this.e.Me(this,!0),this.e=a,a.Ye(this,!0),this.b.M=!0)},e.ls=function(a,b){var d=0===a;if(b){var e=b.lp(this);e&&e.uid!==this.uid&&(this.e.index!==e.e.index&&(this.e.Me(this,!0),this.e=e.e,e.e.Ye(this,!0)),this.e.dq(this,e,d),this.b.M=!0)}},g.Er=function(a){a.O(this.e.Kl)},g.Dr=function(a){a.wb(this.e.name)},
g.ks=function(a){a.O(this.Lb())});f&&(e.Wr=function(a,b){if(this.b.g){var d=this.type.si(b);if(!(0>d)){var e=1===a;this.cd[d]!==e&&(this.cd[d]=e,this.qc(),this.b.M=!0)}}},e.Xr=function(a,b,d){if(this.b.g){var e=this.type.si(a);0>e||(a=this.type.u[e],e=this.da[e],b=Math.floor(b),0>b||b>=e.length||(1===this.b.g.vp(a.oa,b)&&(d/=100),e[b]!==d&&(e[b]=d,a.zb&&(this.b.M=!0))))}})};zb=function(){this.Sh=this.Mh=!0;this.type.lg=!0;this.b.M=!0;var c,n,p=this.Nh;c=0;for(n=p.length;c<n;++c)p[c](this);this.e.Hb&&
this.za()};Ab=function(c){c&&this.Nh.push(c)};Cb=function(){if(this.Mh){var c=this.pa,n=this.Ic;c.set(this.x,this.y,this.x+this.width,this.y+this.height);c.offset(-this.fb*this.width,-this.gb*this.height);this.i?(c.offset(-this.x,-this.y),n.qm(c,this.i),n.offset(this.x,this.y),n.jk(c)):n.rh(c);c.normalize();this.Mh=!1;this.Yq()}};var c=new P(0,0,0,0);Db=function(){if(this.e.Hb){var m=this.e.Ja,n=this.pa;c.set(m.Xa(n.left),m.Ya(n.top),m.Xa(n.right),m.Ya(n.bottom));this.hb.hf(c)||(this.hb.right<this.hb.left?
m.update(this,null,c):m.update(this,this.hb,c),this.hb.cf(c),this.e.oc=!0)}};Eb=function(){if(this.Sh&&this.se){this.za();var m=this.type.og,n=this.pa;c.set(m.Xa(n.left),m.Ya(n.top),m.Xa(n.right),m.Ya(n.bottom));this.kd.hf(c)||(this.kd.right<this.kd.left?m.update(this,null,c):m.update(this,this.kd,c),this.kd.cf(c),this.Sh=!1)}};Bb=function(c,n){return this.pa.ec(c,n)&&this.Ic.ec(c,n)?this.Bb&&!this.Bb.el()?(this.Bb.nk(this.width,this.height,this.i),this.Bb.ec(c-this.x,n-this.y)):!0:!1};vb=function(){this.type.Ah();
return this.Ud};Fb=function(){this.e.Pj();return this.rc};Gb=function(){R(this.J);var c,n,p,r=!0;c=0;for(n=this.cd.length;c<n;c++)this.cd[c]&&(p=this.type.u[c],this.J.push(p),p.mc||(r=!1));this.Sm=!!this.J.length;this.Vc=r};wb=function(){return"Inst"+this.cm};jb=function(c){if(c&&c.Nb&&c.type!=this){var n,p,r;n=0;for(p=c.siblings.length;n<p;n++)if(r=c.siblings[n],r.type==this)return r}c=this.V().hc();return c.length?c[0]:null};kb=function(c){var n=this.V().hc();return n.length?n[c.nf()%n.length]:
null};ib=function(){if(this.Qe&&!this.q){var c,n;c=0;for(n=this.d.length;c<n;c++)this.d[c].Ud=c;var p=c,r=this.b.fc;c=0;for(n=r.length;c<n;++c)r[c].type===this&&(r[c].Ud=p++);this.Qe=!1}};tb=function(c){if(c<this.d.length)return this.d[c];c-=this.d.length;var n=this.b.fc,p,r;p=0;for(r=n.length;p<r;++p)if(n[p].type===this){if(0===c)return n[p];--c}return null};lb=function(){return this.Xc[this.tc]};mb=function(){this.tc++;this.tc===this.Xc.length?this.Xc.push(new hb(this)):(this.Xc[this.tc].na=!0,
R(this.Xc[this.tc].I))};nb=function(){this.tc++;this.tc===this.Xc.length&&this.Xc.push(new hb(this));var c=this.Xc[this.tc],n=this.Xc[this.tc-1];n.na?(c.na=!0,R(c.I)):(c.na=!1,wa(c.d,n.d),wa(c.I,n.I))};ob=function(){this.tc--};pb=function(c){var n,p,r,q,h,b=0;if(!this.q)for(n=0,p=this.X.length;n<p;n++)for(h=this.X[n],r=0,q=h.ca.length;r<q;r++){if(c===h.ca[r].name)return this.Q.lastBehIndex=b,h.ca[r];b++}n=0;for(p=this.ca.length;n<p;n++){if(c===this.ca[n].name)return this.Q.lastBehIndex=b,this.ca[n];
b++}return null};qb=function(c){return this.Dg(c)?this.Q.lastBehIndex:-1};rb=function(c){var n,p;n=0;for(p=this.u.length;n<p;n++)if(this.u[n].name===c)return n;return-1};sb=function(){if(this.Nb&&!this.q){var c,n,p,r,q,h,b;this.Ah();h=this.V();var d=h.na,f=(c=this.b.pb())&&c.gc&&c.gc.zc;c=0;for(n=this.mb.length;c<n;c++)if(q=this.mb[c],q!==this&&(q.Ah(),b=q.V(),b.na=d,!d)){R(b.d);p=0;for(r=h.d.length;p<r;++p)b.d[p]=q.vi(h.d[p].Ud);if(f)for(R(b.I),p=0,r=h.I.length;p<r;++p)b.I[p]=q.vi(h.I[p].Ud)}}};
ub=function(){return"Type"+this.G};Sb=function(c,n,p){if("undefined"===typeof c||"undefined"===typeof p)return!1;switch(n){case 0:return c===p;case 1:return c!==p;case 2:return c<p;case 3:return c<=p;case 4:return c>p;case 5:return c>=p;default:return!1}}})();var $b={};function Z(c){this.b=c}
(function(){function c(){if(0===this.ci.length){var b=document.createElement("canvas");b.width=this.width;b.height=this.height;var c=b.getContext("2d");this.Pe?c.drawImage(this.K,this.Ge,this.He,this.width,this.height,0,0,this.width,this.height):c.drawImage(this.K,0,0,this.width,this.height);this.ci=b.toDataURL("image/png")}return this.ci}function m(){}var n=Z.prototype;n.Wa=function(b){this.ma=b;this.b=b.b};var p=n.Wa.prototype;p.W=function(){if(!this.q){var b,f,a,e,g,k,h,n,m;this.$b=[];this.qf=
!1;b=0;for(f=this.Za.length;b<f;b++){g=this.Za[b];h={};h.name=g[0];h.speed=g[1];h.loop=g[2];h.tj=g[3];h.uj=g[4];h.Vl=g[5];h.G=g[6];h.frames=[];a=0;for(e=g[7].length;a<e;a++)k=g[7][a],n={},n.Dj=k[0],n.Ej=k[1],n.Ge=k[2],n.He=k[3],n.width=k[4],n.height=k[5],n.duration=k[6],n.fb=k[7],n.gb=k[8],n.Ci=k[9],n.jh=k[10],n.Wl=k[11],n.Pe=0!==n.width,n.ci="",n.os=c,m={left:0,top:0,right:1,bottom:1},n.Aj=m,n.T=null,(m=this.b.ep(k[0]))?n.K=m:(n.K=new Image,n.K.Rn=k[0],n.K.qk=k[1],n.K.Nn=null,this.b.Um(n.K,k[0])),
h.frames.push(n),this.$b.push(n);this.Za[b]=h}}};p.Pm=function(){var b,c,a;b=0;for(c=this.d.length;b<c;b++)a=this.d[b],a.rg=a.Kb.T};p.hh=function(){if(!this.q){var b,c,a;b=0;for(c=this.$b.length;b<c;++b)a=this.$b[b],a.K.Nn=null,a.T=null;this.qf=!1;this.Pm()}};p.fj=function(){if(!this.q&&this.d.length){var b,c,a;b=0;for(c=this.$b.length;b<c;++b)a=this.$b[b],a.T=this.b.g.Xg(a.K,!1,this.b.F,a.Wl);this.Pm()}};p.Wi=function(){if(!this.q&&!this.qf&&this.b.g){var b,c,a;b=0;for(c=this.$b.length;b<c;++b)a=
this.$b[b],a.T=this.b.g.Xg(a.K,!1,this.b.F,a.Wl);this.qf=!0}};p.Mj=function(){if(!this.q&&!this.d.length&&this.qf){var b,c,a;b=0;for(c=this.$b.length;b<c;++b)a=this.$b[b],this.b.g.deleteTexture(a.T),a.T=null;this.qf=!1}};var r=[];p.kj=function(b){var c,a,e;R(r);c=0;for(a=this.$b.length;c<a;++c)e=this.$b[c].K,-1===r.indexOf(e)&&(b.drawImage(e,0,0),r.push(e))};n.Aa=function(b){this.type=b;this.b=b.b;b=this.type.Za[0].frames[0].jh;this.Sb?this.Bb.$f(b):this.Bb=new Ya(b)};var q=n.Aa.prototype;q.W=function(){this.visible=
0===this.Y[0];this.se=0!==this.Y[3];1===this.type.Za.length&&1===this.type.Za[0].frames.length||0===this.type.Za[0].speed||this.b.Em(this);this.U=this.Hk(this.Y[1])||this.type.Za[0];this.m=this.Y[2];0>this.m&&(this.m=0);this.m>=this.U.frames.length&&(this.m=this.U.frames.length-1);var b=this.U.frames[this.m];this.Bb.$f(b.jh);this.fb=b.fb;this.gb=b.gb;this.gf=this.U.speed;this.ld=this.U.uj;this.Sb?this.sc.reset():this.sc=new Wa;this.Nc=this.sc.ga;this.Gd=!0;this.Gc=0;this.Fd=!0;this.Wh=this.$j="";
this.On=0;this.Vh=-1;this.type.Wi();var c,a,e,g,k,h,n,b=0;for(c=this.type.Za.length;b<c;b++)for(g=this.type.Za[b],a=0,e=g.frames.length;a<e;a++)k=g.frames[a],0===k.width&&(k.width=k.K.width,k.height=k.K.height),k.Pe&&(n=k.K,h=k.Aj,h.left=k.Ge/n.width,h.top=k.He/n.height,h.right=(k.Ge+k.width)/n.width,h.bottom=(k.He+k.height)/n.height,0===k.Ge&&0===k.He&&k.width===n.width&&k.height===n.height&&(k.Pe=!1));this.Kb=this.U.frames[this.m];this.rg=this.Kb.T};q.tb=function(){var b={a:this.U.G,f:this.m,cas:this.gf,
fs:this.Nc,ar:this.Gc,at:this.sc.ga,rt:this.ld};this.Gd||(b.ap=this.Gd);this.Fd||(b.af=this.Fd);return b};q.Pb=function(b){var c=this.hp(b.a);c&&(this.U=c);this.m=b.f;0>this.m&&(this.m=0);this.m>=this.U.frames.length&&(this.m=this.U.frames.length-1);this.gf=b.cas;this.Nc=b.fs;this.Gc=b.ar;this.sc.reset();this.sc.ga=b.at;this.Gd=b.hasOwnProperty("ap")?b.ap:!0;this.Fd=b.hasOwnProperty("af")?b.af:!0;b.hasOwnProperty("rt")?this.ld=b.rt:this.ld=this.U.uj;this.Kb=this.U.frames[this.m];this.rg=this.Kb.T;
this.Bb.$f(this.Kb.jh);this.fb=this.Kb.fb;this.gb=this.Kb.gb};q.Kh=function(b){this.m=b?0:this.U.frames.length-1;this.Gd=!1;this.$j=this.U.name;this.b.trigger(Z.prototype.H.nn,this);this.b.trigger(Z.prototype.H.mn,this);this.Gc=0};q.dk=function(){return this.sc.ga};q.Fc=function(){this.sc.add(this.b.qi(this));this.Wh.length&&this.Xn();0<=this.Vh&&this.Yn();var b=this.sc.ga,c=this.U,a=c.frames[this.m],e=a.duration/this.gf;this.Gd&&b>=this.Nc+e&&(this.Fd?this.m++:this.m--,this.Nc+=e,this.m>=c.frames.length&&
(c.Vl?(this.Fd=!1,this.m=c.frames.length-2):c.loop?this.m=this.ld:(this.Gc++,this.Gc>=c.tj?this.Kh(!1):this.m=this.ld)),0>this.m&&(c.Vl?(this.m=1,this.Fd=!0,c.loop||(this.Gc++,this.Gc>=c.tj&&this.Kh(!0))):c.loop?this.m=this.ld:(this.Gc++,this.Gc>=c.tj?this.Kh(!0):this.m=this.ld)),0>this.m?this.m=0:this.m>=c.frames.length&&(this.m=c.frames.length-1),b>this.Nc+c.frames[this.m].duration/this.gf&&(this.Nc=b),b=c.frames[this.m],this.qe(a,b),this.b.M=!0)};q.Hk=function(b){var c,a,e;c=0;for(a=this.type.Za.length;c<
a;c++)if(e=this.type.Za[c],db(e.name,b))return e;return null};q.hp=function(b){var c,a,e;c=0;for(a=this.type.Za.length;c<a;c++)if(e=this.type.Za[c],e.G===b)return e;return null};q.Xn=function(){var b=this.U.frames[this.m],c=this.Hk(this.Wh);this.Wh="";!c||db(c.name,this.U.name)&&this.Gd||(this.U=c,this.gf=c.speed,this.ld=c.uj,0>this.m&&(this.m=0),this.m>=this.U.frames.length&&(this.m=this.U.frames.length-1),1===this.On&&(this.m=0),this.Gd=!0,this.Nc=this.sc.ga,this.Fd=!0,this.qe(b,this.U.frames[this.m]),
this.b.M=!0)};q.Yn=function(){var b=this.U.frames[this.m],c=this.m;this.m=M(this.Vh);0>this.m&&(this.m=0);this.m>=this.U.frames.length&&(this.m=this.U.frames.length-1);c!==this.m&&(this.qe(b,this.U.frames[this.m]),this.Nc=this.sc.ga,this.b.M=!0);this.Vh=-1};q.qe=function(b,c){var a=b.width,e=b.height,g=c.width,k=c.height;a!=g&&(this.width*=g/a);e!=k&&(this.height*=k/e);this.fb=c.fb;this.gb=c.gb;this.Bb.$f(c.jh);this.Z();this.Kb=c;this.rg=c.T;a=0;for(e=this.r.length;a<e;a++)g=this.r[a],g.oq&&g.oq(b,
c);this.b.trigger(Z.prototype.H.qe,this)};q.vc=function(b){b.globalAlpha=this.opacity;var c=this.Kb,a=c.Pe,e=c.K,g=this.x,k=this.y,h=this.width,n=this.height;if(0===this.i&&0<=h&&0<=n)g-=this.fb*h,k-=this.gb*n,this.b.lc&&(g=Math.round(g),k=Math.round(k)),a?b.drawImage(e,c.Ge,c.He,c.width,c.height,g,k,h,n):b.drawImage(e,g,k,h,n);else{this.b.lc&&(g=Math.round(g),k=Math.round(k));b.save();var m=0<h?1:-1,l=0<n?1:-1;b.translate(g,k);1===m&&1===l||b.scale(m,l);b.rotate(this.i*m*l);g=0-this.fb*ma(h);k=0-
this.gb*ma(n);a?b.drawImage(e,c.Ge,c.He,c.width,c.height,g,k,ma(h),ma(n)):b.drawImage(e,g,k,ma(h),ma(n));b.restore()}};q.Od=function(b){this.nb(b)};q.nb=function(b){b.ub(this.rg);b.ie(this.opacity);var c=this.Kb,a=this.Ic;if(this.b.lc){var e=Math.round(this.x)-this.x,g=Math.round(this.y)-this.y;c.Pe?b.Bc(a.Ka+e,a.La+g,a.jb+e,a.kb+g,a.bb+e,a.cb+g,a.$a+e,a.ab+g,c.Aj):b.Yf(a.Ka+e,a.La+g,a.jb+e,a.kb+g,a.bb+e,a.cb+g,a.$a+e,a.ab+g)}else c.Pe?b.Bc(a.Ka,a.La,a.jb,a.kb,a.bb,a.cb,a.$a,a.ab,c.Aj):b.Yf(a.Ka,
a.La,a.jb,a.kb,a.bb,a.cb,a.$a,a.ab)};q.np=function(b){var c=this.Kb,a,e;a=0;for(e=c.Ci.length;a<e;a++)if(db(b,c.Ci[a][0]))return a;return-1};q.ti=function(b,c){var a=this.Kb,e=a.Ci,g;L(b)?g=this.np(b):g=b-1;g=M(g);if(0>g||g>=e.length)return c?this.x:this.y;var k=(e[g][1]-a.fb)*this.width,e=e[g][2],e=(e-a.gb)*this.height,a=Math.cos(this.i);g=Math.sin(this.i);var h=k*a-e*g,e=e*a+k*g,k=h+this.x,e=e+this.y;return c?k:e};var h=new ba,b=!1;new P(0,0,0,0);p.finish=function(d){if(b){if(d){var c=this.b.pb().gc.zc;
d=null.V();var a=h.Xb(),e,g;if(d.na){d.na=!1;R(d.d);e=0;for(g=a.length;e<g;++e)d.d[e]=a[e];if(c)for(R(d.I),e=0,g=null.d.length;e<g;++e)a=null.d[e],h.contains(a)||d.I.push(a)}else if(c)for(c=d.d.length,e=0,g=a.length;e<g;++e)d.d[c+e]=a[e],Aa(d.I,a[e]);else wa(d.d,a);null.Hd()}h.clear();b=!1}};m.prototype.mn=function(b){return db(this.$j,b)};m.prototype.nn=function(){return!0};m.prototype.qe=function(){return!0};n.H=new m;n.Ba=new function(){};n.qa=new function(){}})();function cc(c){this.b=c}
(function(){function c(){return b.length?b.pop():{}}function m(d){var c,a;c=0;for(a=d.length;c<a;c++)b.push(d[c]);R(d)}function n(b){return b.length&&" "===b.charAt(b.length-1)?b.substring(0,b.length-1):b}function p(){}var r=cc.prototype;r.W=function(){r.Ba.Xj=function(b){this.width!==b&&(this.width=b,this.le=!0,this.Z())}};r.Wa=function(b){this.ma=b;this.b=b.b};var q=r.Wa.prototype;q.W=function(){};q.hh=function(){if(!this.q){var b,c,a;b=0;for(c=this.d.length;b<c;b++)a=this.d[b],a.yc=null,a.fe=null,
a.rb=null}};r.Aa=function(b){this.type=b;this.b=b.b;this.Sb?R(this.wd):this.wd=[];this.le=!0};q=r.Aa.prototype;q.W=function(){this.text=this.Y[0];this.visible=0===this.Y[1];this.font=this.Y[2];this.color=this.Y[3];this.Hg=this.Y[4];this.Ch=this.Y[5];this.Rj=0===this.Y[7];this.Ti=this.Sg=this.width;this.Rg=this.height;this.Vi=this.Y[8];this.Ag=this.ve="";this.Am=this.Bm=this.Vf=0;this.sq();this.rb=this.fe=this.yc=null;this.Il=!1;this.Ef=this.b.Yc;this.Sb?this.Bd.set(0,0,1,1):this.Bd=new P(0,0,1,1);
this.b.g&&this.b.Em(this)};q.sq=function(){var b=this.font.split(" "),c;for(c=0;c<b.length;c++)if("pt"===b[c].substr(b[c].length-2,2)){this.Vf=parseInt(b[c].substr(0,b[c].length-2));this.pj=Math.ceil(this.Vf/72*96)+4;0<c&&(this.Ag=b[c-1]);this.ve=b[c+1];for(c+=2;c<b.length;c++)this.ve+=" "+b[c];break}};q.tb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Hg,va:this.Ch,wr:this.Rj,lho:this.Vi,fn:this.ve,fs:this.Ag,ps:this.Vf,pxh:this.pj,tw:this.Bm,th:this.Am,lrt:this.Ef}};q.Pb=function(b){this.text=
b.t;this.font=b.f;this.color=b.c;this.Hg=b.ha;this.Ch=b.va;this.Rj=b.wr;this.Vi=b.lho;this.ve=b.fn;this.Ag=b.fs;this.Vf=b.ps;this.pj=b.pxh;this.Bm=b.tw;this.Am=b.th;this.Ef=b.lrt;this.le=!0;this.Ti=this.Sg=this.width;this.Rg=this.height};q.Fc=function(){if(this.b.g&&this.rb&&300<=this.b.Yc-this.Ef){var b=this.e;this.za();var c=this.pa;if(c.right<b.R||c.bottom<b.S||c.left>b.ba||c.top>b.aa)this.b.g.deleteTexture(this.rb),this.yc=this.fe=this.rb=null}};q.Ie=function(){this.yc=this.fe=null;this.b.g&&
this.rb&&this.b.g.deleteTexture(this.rb);this.rb=null};q.dk=function(){this.font=this.Ag+" "+this.Vf.toString()+"pt "+this.ve;this.le=!0;this.b.M=!0};q.vc=function(b,c){b.font=this.font;b.textBaseline="top";b.fillStyle=this.color;b.globalAlpha=c?1:this.opacity;var a=1;c&&(a=this.e.qb(),b.save(),b.scale(a,a));if(this.le||this.width!==this.Ti)this.type.ma.Cn(this.text,this.wd,b,this.width,this.Rj),this.le=!1,this.Ti=this.width;this.za();var a=c?0:this.Ic.Ka,e=c?0:this.Ic.La;this.b.lc&&(a=a+.5|0,e=e+
.5|0);0===this.i||c||(b.save(),b.translate(a,e),b.rotate(this.i),e=a=0);var g=e+this.height,k=this.pj,k=k+this.Vi,h,n;1===this.Ch?e+=Math.max(this.height/2-this.wd.length*k/2,0):2===this.Ch&&(e+=Math.max(this.height-this.wd.length*k-2,0));for(n=0;n<this.wd.length&&!(h=a,1===this.Hg?h=a+(this.width-this.wd[n].width)/2:2===this.Hg&&(h=a+(this.width-this.wd[n].width)),b.fillText(this.wd[n].text,h,e),e+=k,e>=g-k);n++);(0!==this.i||c)&&b.restore();this.Ef=this.b.Yc};q.nb=function(b){if(!(1>this.width||
1>this.height)){var c=this.le||this.Il;this.Il=!1;var a=this.e.qb(),e=this.e.ob(),g=this.Bd,k=a*this.width,h=a*this.height,n=Math.ceil(k),m=Math.ceil(h),l=this.b.p/2,q=this.b.n/2;this.fe||(this.yc=document.createElement("canvas"),this.yc.width=n,this.yc.height=m,this.Sg=n,this.Rg=m,c=!0,this.fe=this.yc.getContext("2d"));if(n!==this.Sg||m!==this.Rg)this.yc.width=n,this.yc.height=m,this.rb&&(b.deleteTexture(this.rb),this.rb=null),c=!0;c&&(this.fe.clearRect(0,0,n,m),this.vc(this.fe,!0),this.rb||(this.rb=
b.Cb(n,m,this.b.F,this.b.Xd)),b.br(this.yc,this.rb,this.b.Xd));this.Sg=n;this.Rg=m;b.ub(this.rb);b.ie(this.opacity);b.Tb();b.translate(-l,-q);b.Gb();var p=this.Ic,c=this.e.ta(p.Ka,p.La,!0),l=this.e.ta(p.Ka,p.La,!1),q=this.e.ta(p.jb,p.kb,!0),r=this.e.ta(p.jb,p.kb,!1),C=this.e.ta(p.bb,p.cb,!0),x=this.e.ta(p.bb,p.cb,!1),H=this.e.ta(p.$a,p.ab,!0),p=this.e.ta(p.$a,p.ab,!1);if(this.b.lc||0===this.i&&0===e)var y=(c+.5|0)-c,A=(l+.5|0)-l,c=c+y,l=l+A,q=q+y,r=r+A,C=C+y,x=x+A,H=H+y,p=p+A;0===this.i&&0===e?(q=
c+n,r=l,C=q,x=l+m,H=c,p=x,g.right=1,g.bottom=1):(g.right=k/n,g.bottom=h/m);b.Bc(c,l,q,r,C,x,H,p,g);b.Tb();b.scale(a,a);b.oh(-this.e.ob());b.translate((this.e.R+this.e.ba)/-2,(this.e.S+this.e.aa)/-2);b.Gb();this.Ef=this.b.Yc}};var h=[];r.An=function(b){R(h);for(var c="",a,e=0;e<b.length;)if(a=b.charAt(e),"\n"===a)c.length&&(h.push(c),c=""),h.push("\n"),++e;else if(" "===a||"\t"===a||"-"===a){do c+=b.charAt(e),e++;while(e<b.length&&(" "===b.charAt(e)||"\t"===b.charAt(e)));h.push(c);c=""}else e<b.length&&
(c+=a,e++);c.length&&h.push(c)};var b=[];r.Cn=function(b,f,a,e,g){if(b&&b.length)if(2>=e)m(f);else{if(100>=b.length&&-1===b.indexOf("\n")){var k=a.measureText(b).width;if(k<=e){m(f);f.push(c());f[0].text=b;f[0].width=k;return}}this.Dn(b,f,a,e,g)}else m(f)};r.Dn=function(d,f,a,e,g){g&&(this.An(d),d=h);var k="",m,q,p,l=0;for(p=0;p<d.length;p++)"\n"===d[p]?(l>=f.length&&f.push(c()),k=n(k),q=f[l],q.text=k,q.width=a.measureText(k).width,l++,k=""):(m=k,k+=d[p],q=a.measureText(k).width,q>=e&&(l>=f.length&&
f.push(c()),m=n(m),q=f[l],q.text=m,q.width=a.measureText(m).width,l++,k=d[p],g||" "!==k||(k="")));k.length&&(l>=f.length&&f.push(c()),k=n(k),q=f[l],q.text=k,q.width=a.measureText(k).width,l++);for(p=l;p<f.length;p++)b.push(f[p]);f.length=l};r.H=new function(){};p.prototype.zn=function(b){ga(b)&&1E9>b&&(b=Math.round(1E10*b)/1E10);b=b.toString();this.text!==b&&(this.text=b,this.le=!0,this.b.M=!0)};r.Ba=new p;r.qa=new function(){}})();function dc(c){this.b=c}
(function(){var c=dc.prototype;c.Wa=function(c){this.ma=c;this.b=c.b};var m=c.Wa.prototype;m.W=function(){this.q||(this.K=new Image,this.K.qk=this.Ej,this.b.Um(this.K,this.Dj),this.T=this.pattern=null)};m.hh=function(){this.q||(this.T=null)};m.fj=function(){if(!this.q&&this.d.length){this.T||(this.T=this.b.g.Xg(this.K,!0,this.b.F,this.Fj));var c,m;c=0;for(m=this.d.length;c<m;c++)this.d[c].T=this.T}};m.Wi=function(){this.q||this.T||!this.b.g||(this.T=this.b.g.Xg(this.K,!0,this.b.F,this.Fj))};m.Mj=
function(){this.q||this.d.length||!this.T||(this.b.g.deleteTexture(this.T),this.T=null)};m.kj=function(c){c.drawImage(this.K,0,0)};c.Aa=function(c){this.type=c;this.b=c.b};m=c.Aa.prototype;m.W=function(){this.visible=0===this.Y[0];this.Bd=new P(0,0,0,0);this.Rk=!1;this.K=this.type.K;this.b.g?(this.type.Wi(),this.T=this.type.T):(this.type.pattern||(this.type.pattern=this.b.L.createPattern(this.type.K,"repeat")),this.pattern=this.type.pattern)};m.ed=function(){this.Rk=!1;this.K=this.type.K};m.Ie=function(){this.b.g&&
this.Rk&&this.T&&(this.b.g.deleteTexture(this.T),this.T=null)};m.vc=function(c){c.globalAlpha=this.opacity;c.save();c.fillStyle=this.pattern;var m=this.x,r=this.y;this.b.lc&&(m=Math.round(m),r=Math.round(r));var q=-(this.fb*this.width),h=-(this.gb*this.height),b=q%this.K.width,d=h%this.K.height;0>b&&(b+=this.K.width);0>d&&(d+=this.K.height);c.translate(m,r);c.rotate(this.i);c.translate(b,d);c.fillRect(q-b,h-d,this.width,this.height);c.restore()};m.Od=function(c){this.nb(c)};m.nb=function(c){c.ub(this.T);
c.ie(this.opacity);var m=this.Bd;m.right=this.width/this.K.width;m.bottom=this.height/this.K.height;var r=this.Ic;if(this.b.lc){var q=Math.round(this.x)-this.x,h=Math.round(this.y)-this.y;c.Bc(r.Ka+q,r.La+h,r.jb+q,r.kb+h,r.bb+q,r.cb+h,r.$a+q,r.ab+h,m)}else c.Bc(r.Ka,r.La,r.jb,r.kb,r.bb,r.cb,r.$a,r.ab,m)};c.H=new function(){};c.Ba=new function(){};c.qa=new function(){}})();function ec(c){this.b=c}
(function(){function c(){this.Ig=!1;this.sf=this.rf=0;this.uid=-1;this.Fa=this.Qf=0}function m(){var a;d.length?(a=d.pop(),c.call(a)):a=new c;return a}function n(a,b,c,d,f,h,l,m){l=l-f;m=m-h;c=m*(c-a)-l*(d-b);return 0==c?0:((f-a)*m+(b-h)*l)/c}function p(a,b,c,d,h){if(!h||!h.se)return null;h.za();f.set(a,b,c,d);f.normalize();if(!h.pa.Sp(f))return null;if(!h.Fm){if(h.Bb&&!h.Bb.el()){var q=h.Bb;q.nk(h.width,h.height,h.i);var l=q.he,p=h.x,r=h.y,E=-1,C=1,x,H,y,A,D;x=0;for(q=q.Wf;x<q;x++)H=2*x,y=(x+1)%
q*2,A=l[H]+p,H=l[H+1]+r,D=l[y]+p,y=l[y+1]+r,qa(a,b,c,d,A,H,D,y)&&(A=n(a,b,c,d,A,H,D,y),A<C&&(E=x,C=A));0>E?a=null:(x=E,H=2*x,y=(x+1)%q*2,A=l[H]+p,H=l[H+1]+r,D=l[y]+p,y=l[y+1]+r,l=m(),l.Ig=!0,l.uid=h.uid,l.Fa=C,l.Qf=Math.atan2(A-D,y-H),l.rf=a+(c-a)*l.Fa,l.sf=b+(d-b)*l.Fa,a=l)}else if(0==h.i)p=h.pa,c=c-a,d=d-b,q=1/c,E=1/d,C=Math.sign(q),l=Math.sign(E),A=(p.left+p.right)/2,x=(p.top+p.bottom)/2,H=(p.right-p.left)/2,D=(p.bottom-p.top)/2,p=(A-C*H-a)*q,r=(x-l*D-b)*E,q*=A+C*H-a,x=(x+l*D-b)*E,p>x||r>q?a=null:
(E=p>r?p:r,1<=E||0>=(q<x?q:x)?a=null:(x=m(),x.Ig=!0,x.uid=h.uid,x.Fa=Math.max(E,0),x.Qf=p>r?Math.atan2(0,-C):Math.atan2(-l,0),x.rf=a+c*x.Fa,x.sf=b+d*x.Fa,a=x));else{l=h.Ic;p=-1;C=1;for(r=0;4>r;r++)E=l.fd(r,!0),x=l.fd(r,!1),q=l.fd(r+1,!0),A=l.fd(r+1,!1),qa(a,b,c,d,E,x,q,A)&&(E=n(a,b,c,d,E,x,q,A),E<C&&(p=r,C=E));0>p?a=null:(r=p,E=l.fd(r,!0),x=l.fd(r,!1),q=l.fd(r+1,!0),A=l.fd(r+1,!1),l=m(),l.Ig=!0,l.uid=h.uid,l.Fa=C,l.Qf=Math.atan2(E-q,A-x),l.rf=a+(c-a)*l.Fa,l.sf=b+(d-b)*l.Fa,a=l)}return a}}function r(){}
function q(){}var h=ec.prototype;h.Wa=function(a){this.ma=a;this.b=a.b};h.Wa.prototype.W=function(){this.gh=[]};h.Aa=function(a){this.type=a;this.b=a.b};var b=h.Aa.prototype,d=[],f=new P(0,0,0,0);b.W=function(){this.fq=this.Y[0];this.Rm=0!==this.Y[1];this.Va=m()};b.Ie=function(){};b.tb=function(){return{}};b.Pb=function(){};h.H=new function(){};r.prototype.Wm=function(a){var b=this.type.gh;if(-1===b.indexOf(a)){var c,d,f;c=0;for(d=b.length;c<d;c++)if(f=b[c],f.q&&-1!==f.Nf.indexOf(a))return;b.push(a)}};
var a=[];r.prototype.Bn=function(b,c,h,m){f.set(b,c,h,m);f.normalize();this.Va.Ig=!1;this.Va.rf=h;this.Va.sf=m;this.Va.uid=-1;this.Va.Qf=Math.atan2(c-m,b-h);this.Va.Fa=1;var n,q,l;if(0===this.fq)for(this.Rm?this.b.wp(f,a):(n=this.b.Bj)&&xa(a,n.ee.Xb()),n=0,q=a.length;n<q;++n){if(l=a[n],l.Q.solidEnabled&&(l=p(b,c,h,m,l)))l.Fa<this.Va.Fa?(d.push(this.Va),this.Va=l):d.push(l)}else{if(this.Rm)this.b.Nk(this.type.gh,f,a);else for(n=0,q=this.type.gh.length;n<q;++n)xa(a,this.type.gh[n].d);n=0;for(q=a.length;n<
q;++n)if(l=a[n],l=p(b,c,h,m,l))l.Fa<this.Va.Fa?(d.push(this.Va),this.Va=l):d.push(l)}R(a)};h.Ba=new r;q.prototype.cn=function(a){a.O(this.Va.uid)};q.prototype.dn=function(a){a.A(this.Va.rf)};q.prototype.en=function(a){a.A(this.Va.sf)};q.prototype.ln=function(a){a.A(Ea(this.Va.Qf))};h.qa=new q})();
function fc(c){this.b=c;var m=this;this.b.Ta||(jQuery(document).mousemove(function(c){m.lq(c)}),jQuery(document).mousedown(function(c){m.kq(c)}),jQuery(document).mouseup(function(c){m.mq(c)}));c=0<this.b.eb?document:this.b.canvas;this.b.rd?c=window.Canvas:this.b.Mb&&(c=window);window.navigator.pointerEnabled?(c.addEventListener("pointerdown",function(c){m.Ql(c)},!1),c.addEventListener("pointermove",function(c){m.Pl(c)},!1),c.addEventListener("pointerup",function(c){m.ih(c)},!1),c.addEventListener("pointercancel",
function(c){m.ih(c)},!1)):window.navigator.msPointerEnabled?(c.addEventListener("MSPointerDown",function(c){m.Ql(c)},!1),c.addEventListener("MSPointerMove",function(c){m.Pl(c)},!1),c.addEventListener("MSPointerUp",function(c){m.ih(c)},!1),c.addEventListener("MSPointerCancel",function(c){m.ih(c)},!1)):(c.addEventListener("touchstart",function(c){m.qq(c)},!1),c.addEventListener("touchmove",function(c){m.pq(c)},!1),c.addEventListener("touchend",function(c){m.Rl(c)},!1),c.addEventListener("touchcancel",
function(c){m.Rl(c)},!1))}
(function(){function c(c){var h,b;h=0;for(b=c.r.length;h<b;h++)if(c.r[h]instanceof n.Aa)return c.r[h];return null}function m(){}var n=fc.prototype,p={left:0,top:0};n.kq=function(c){1===c.which&&this.cj("leftmouse",c.pageX,c.pageY)};n.lq=function(c){1===c.which&&this.dj("leftmouse",c.pageX,c.pageY)};n.mq=function(c){1===c.which&&this.ej("leftmouse")};n.qq=function(c){c.preventDefault&&eb(c)&&c.preventDefault();var h,b,d,f;h=0;for(b=c.changedTouches.length;h<b;h++)d=c.changedTouches[h],f=d.identifier,
this.cj(f?f.toString():"<none>",d.pageX,d.pageY)};n.pq=function(c){c.preventDefault&&c.preventDefault();var h,b,d,f;h=0;for(b=c.changedTouches.length;h<b;h++)d=c.changedTouches[h],f=d.identifier,this.dj(f?f.toString():"<none>",d.pageX,d.pageY)};n.Rl=function(c){c.preventDefault&&eb(c)&&c.preventDefault();var h,b,d;h=0;for(b=c.changedTouches.length;h<b;h++)d=c.changedTouches[h],d=d.identifier,this.ej(d?d.toString():"<none>")};n.Ql=function(c){c.pointerType!==c.MSPOINTER_TYPE_MOUSE&&"mouse"!==c.pointerType&&
(c.preventDefault&&eb(c)&&c.preventDefault(),this.cj(c.pointerId.toString(),c.pageX,c.pageY))};n.Pl=function(c){c.pointerType!==c.MSPOINTER_TYPE_MOUSE&&"mouse"!==c.pointerType&&(c.preventDefault&&c.preventDefault(),this.dj(c.pointerId.toString(),c.pageX,c.pageY))};n.ih=function(c){c.pointerType!==c.MSPOINTER_TYPE_MOUSE&&"mouse"!==c.pointerType&&(c.preventDefault&&eb(c)&&c.preventDefault(),this.ej(c.pointerId.toString()))};n.cj=function(m,h,b){var d=this.b.Ta?p:jQuery(this.b.canvas).offset();h=h-d.left;
b=b-d.top;var f,a,e,g,d=this.ee.Xb(),k,n,t,r=null;k=0;for(n=d.length;k<n;k++)if(t=d[k],f=c(t),f.enabled&&!f.Nd&&(f=t.e.Jb(h,b,!0),a=t.e.Jb(h,b,!1),t.za(),t.ec(f,a)))r?t.e.index>r.e.index?(r=t,e=f,g=a):t.e.index===r.e.index&&t.Lb()>r.Lb()&&(r=t,e=f,g=a):(r=t,e=f,g=a);r&&c(r).jq(m,e,g)};n.dj=function(m,h,b){var d=this.b.Ta?p:jQuery(this.b.canvas).offset();h=h-d.left;b=b-d.top;var f,a=this.ee.Xb(),e,g,k;e=0;for(g=a.length;e<g;e++)f=a[e],k=c(f),!k.enabled||!k.Nd||k.Nd&&k.ei!==m||(d=f.e.Jb(h,b,!0),f=f.e.Jb(h,
b,!1),k.nq(d,f))};n.ej=function(m){var h=this.ee.Xb(),b,d,f;b=0;for(d=h.length;b<d;b++)f=h[b],f=c(f),f.Nd&&f.ei===m&&f.rq()};n.Wa=function(c){this.behavior=c;this.b=c.b};n.Wa.prototype.W=function(){};n.Aa=function(c,h){this.type=c;this.behavior=c.behavior;this.ia=h;this.b=c.b};var r=n.Aa.prototype;r.W=function(){this.Nd=!1;this.xk=this.wk=0;this.ei="<none>";this.Lh=this.Y[0];this.enabled=0!==this.Y[1]};r.tb=function(){return{enabled:this.enabled}};r.Pb=function(c){this.enabled=c.enabled;this.Nd=!1};
r.jq=function(c,h,b){this.wk=h-this.ia.x;this.xk=b-this.ia.y;this.Nd=!0;this.ei=c;this.b.Lg=!0;this.b.trigger(fc.prototype.H.rn,this.ia);this.b.Lg=!1};r.nq=function(c,h){var b=c-this.wk,d=h-this.xk;if(0===this.Lh){if(this.ia.x!==b||this.ia.y!==d)this.ia.x=b,this.ia.y=d,this.ia.Z()}else 1===this.Lh?this.ia.x!==b&&(this.ia.x=b,this.ia.Z()):2===this.Lh&&this.ia.y!==d&&(this.ia.y=d,this.ia.Z())};r.rq=function(){this.Nd=!1;this.b.Lg=!0;this.b.trigger(fc.prototype.H.sn,this.ia);this.b.Lg=!1};r.Fc=function(){};
m.prototype.rn=function(){return!0};m.prototype.sn=function(){return!0};n.H=new m;n.Ba=new function(){};n.qa=new function(){}})();function gc(c){this.b=c}
(function(){var c=gc.prototype;c.Wa=function(c){this.behavior=c;this.b=c.b};c.Wa.prototype.W=function(){};c.Aa=function(c,m){this.type=c;this.behavior=c.behavior;this.ia=m;this.b=c.b};var m=c.Aa.prototype;m.W=function(){this.speed=T(this.Y[0]);this.kg=T(this.Y[1])};m.tb=function(){return{speed:this.speed,acc:this.kg}};m.Pb=function(c){this.speed=c.speed;this.kg=c.acc};m.Fc=function(){var c=this.b.qi(this.ia);0!==c&&(0!==this.kg&&(this.speed+=this.kg*c),0!==this.speed&&(this.ia.i=Ga(this.ia.i+this.speed*
c),this.ia.Z()))};c.H=new function(){};c.Ba=new function(){};c.qa=new function(){}})();function bc(c){this.b=c}(function(){var c=bc.prototype;c.Wa=function(c){this.behavior=c;this.b=c.b};c.Wa.prototype.W=function(){};c.Aa=function(c,m){this.type=c;this.behavior=c.behavior;this.ia=m;this.b=c.b};var m=c.Aa.prototype;m.W=function(){this.ia.Q.solidEnabled=0!==this.Y[0]};m.Fc=function(){};c.H=new function(){};c.Ba=new function(){}})();
function ac(){return[ec,cc,dc,Z,fc,bc,gc,Y.prototype.H.Vj,Z.prototype.Ba.wn,Z.prototype.Ba.Xj,ec.prototype.Ba.Wm,Y.prototype.H.bn,Z.prototype.Ba.yn,Z.prototype.Ba.vn,Y.prototype.qa.i,Z.prototype.qa.En,Z.prototype.qa.Fn,Y.prototype.qa.Vn,ec.prototype.Ba.Bn,Z.prototype.Ba.xn,ec.prototype.qa.dn,ec.prototype.qa.en,ec.prototype.qa.ln,cc.prototype.Ba.zn,ec.prototype.qa.cn]};
